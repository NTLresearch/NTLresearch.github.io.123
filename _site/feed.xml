<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NTL RESEARCH</title>
    <description>Luôn có những rủi ro liên quan đến vấn đề đầu tư bao gồm cả việc mất toàn bộ vốn. Hiệu quả đầu tư trong quá khứ không đảm bảo cho kết quả trong tương lai. Nhà đầu tư nên xem xét cẩn thận mục tiêu đầu tư, ràng buộc, rủi ro và những chi phí liên quan.
</description>
    <link>http://NTLresearch.github.io/</link>
    <atom:link href="http://NTLresearch.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 03 Jul 2018 01:50:12 +0300</pubDate>
    <lastBuildDate>Tue, 03 Jul 2018 01:50:12 +0300</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>Amibroker blog: RSI2-Smile (phần 1)</title>
        <description>&lt;p&gt;Ở bài viết này tôi sẽ phân tích 1 hiện tượng liên quan đến chỉ báo rất quen thuộc với các trader đó là chỉ bảo Relative Strength Index (RSI) (tham số được sử dụng lần lượt là 2/3/4, tham số mặc định của đường RSI mà chúng ta hay đọc là 14). Bài viết được lấy cảm hứng từ blog AQR trên hub quantocracy.&lt;/p&gt;

&lt;h2 id=&quot;rsi2-smile-l-g&quot;&gt;1. RSI(2) Smile là gì?&lt;/h2&gt;

&lt;h3 id=&quot;a-khi-nim-smile&quot;&gt;a. Khái niệm smile.&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;(Hiện tượng này không liên quan đến bài viết nhưng giải thích khái niệm đồ thị dạng smile)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Khi sử dụng Black-Scholes để định giá quyền chọn, khi các tham số khác trong mô hình giữ nguyên, để giá lý thuyết tính toán dựa trên BS bằng đúng giá trị trên thị trường - market price, người ta thay đổi tham số sigma và gọi nó là implied volatility.&lt;/p&gt;

&lt;p&gt;Khi tính toán implied volatility với các strike price khác nhau, người ta nhận thấy, khi strike price càng xa giá hiện tại của tài sản cơ sở, implied volatility càng lớn. Nếu dựng đồ thị mà trục hoành là strike price và trục tung là implied volatility, đồ thị sẽ có dạng chữ C nằm ngang, hõm lên trên, hay còn gọi là smile (nụ cười)&lt;/p&gt;

&lt;p&gt;Vậy có thể hiểu smile ở đây là 1 dạng đồ thị đặc biệt giải thích 1 hiện tương nào đó.&lt;/p&gt;

&lt;h3 id=&quot;b-rsi2-smile&quot;&gt;b. RSI(2) Smile&lt;/h3&gt;

&lt;p&gt;Cũng có dạng đồ thị như Volatility Smile, tuy nhiên RSI(2) Smile khác ở chỗ, trục tung trên đồ thị là frequency, tức là tần suất của các data point, còn trục hoành là các buckets. Đơn giản là, xem xét toàn bộ dữ liệu giá của các mã cổ phiếu, ở mỗi điểm giá chúng ta tính toán được giá trị của chỉ báo RSI với tham số là 2. Sau đó chúng ta xem xét phân phối của toàn bộ các giá trị RSI 2 tính toán được.&lt;/p&gt;

&lt;p&gt;Ở các thị trường khác nhau, khi tính toán đều cho ra được phân phối có dạng smile (cong lên ở 2 đầu). Ở bài viết này tôi sẽ thử nghiệm tương tự để xem xét liệu thị trường Việt Nam có hiện tượng này hay không.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Lưu ý: Tôi sẽ sử dụng RSI2 và RSI(2) đan xen trong các phần viết bên dưới&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;d-liu-cng-c-v-cc-tham-s&quot;&gt;1. Dữ liệu, công cụ và các tham số&lt;/h2&gt;

&lt;p&gt;Bài viết sử dụng dữ liệu chứng khoán EOD cung cấp bởi trang web &lt;a href=&quot;http://www.cafef.vn&quot;&gt;cafeF&lt;/a&gt; và &lt;a href=&quot;http://cophieu68.vn&quot;&gt;cophieu68&lt;/a&gt;. Công cụ phân tích bao gồm:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Python 3.5&lt;/li&gt;
  &lt;li&gt;Amibroker 6.0&lt;/li&gt;
  &lt;li&gt;Seaborn, pandas và numpy&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Các dữ liệu và tham số cần tính toán là:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Close: Giá đóng cửa của các cổ phiếu trên sàn HOSE, HNX và UPCOM&lt;/li&gt;
  &lt;li&gt;RSI2: Relative Strength Index sử dụng tham số = 2&lt;/li&gt;
  &lt;li&gt;100-day Volatility: Rủi ro 100 ngày được đo bằng độ lệch chuẩn (standard deviation)&lt;/li&gt;
  &lt;li&gt;Volume: khối lượng giao dịch&lt;/li&gt;
  &lt;li&gt;Moving Average: Trung bình động&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;b-lc-c-phiu&quot;&gt;2. Bộ lọc cổ phiếu&lt;/h2&gt;
&lt;p&gt;Đầu tiên tôi cập nhật toàn bộ dữ liệu cổ phiếu 3 sàn HOSE, HNX VÀ UPCOM vào Amibroker. Tôi lập bộ lọc với đoạn code sau đây:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;n&quot;&gt;Filter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AND&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ret1d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ROC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;std100d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;StDev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ret1d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;252&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;AddColumn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Close&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;AddColumn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RSI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;RSI2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;AddColumn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;std100d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Volatility&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nội dung của đoạn code trên dùng để lọc toàn bộ mã cổ phiếu có MA volume 15 và MA của volume 60 lớn hơn 10,000 đồng thời khối lượng giao dịch ngày cuối cùng cũng lớn hơn 10,000. Đồng thời bộ lọc cũng lọc ra các cổ phiếu có thị giá nhỏ hơn 2,000 VND. Mục đích chính của bộ lọc là lọc ra các cổ phiếu penny-cap có rủi ro cao (sắp rời sàn, thanh khoản yếu, giao dịch giá thấp hơn giá trị sổ sách).&lt;/p&gt;

&lt;p&gt;Áp dụng bộ lọc trên vào giai đoạn 2 năm (1/1/2016 đến 31/12/2017, trong amibroker sử dụng range from-to-dates trong automatic analysis), tôi có tổng số data point là 211,400 (xấp xỉ 460 mã sau khi lọc).&lt;/p&gt;

&lt;h2 id=&quot;phn-tch-d-liu-2016-2017&quot;&gt;3. Phân tích dữ liệu 2016-2017&lt;/h2&gt;

&lt;h3 id=&quot;a-rsi2-smile-cho-ton-b-d-liu&quot;&gt;a. RSI2 smile cho toàn bộ dữ liệu&lt;/h3&gt;
&lt;p&gt;Sau khi xử lý dữ liệu, tôi được đồ thị như hình bên dưới&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_1.jpeg&quot; alt=&quot;RS2_1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Nếu chia data point thành 10 nhóm khác nhau (nhóm nhỏ nhất có giá trị RSI2 &amp;lt; 10 và nhóm lớn nhất có giá trị RSI2 &amp;lt; 90), ta có thể thấy rõ có hiện tượng RSI2 smile ở thị trường Việt Nam trong 2 năm 2016 và 2017.&lt;/p&gt;

&lt;p&gt;Cụ thể, số lượng các data point có giá trị rất cao hoặc rất thấp cao hơn hẳn so với nhóm còn lại. Giá trị trung bình của RSI2 ở thị trường Việt Nam chỉ là 48.41&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_2_2.jpeg&quot; alt=&quot;RS2_3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lấy ví dụ tôi có khoảng 30,000 data point thuộc nhóm &amp;lt; 5, tức là trung bình mỗi ngày sẽ có khoảng 30,000/(504) = 59 mã có giá trị RSI2 &amp;lt; 5, tức khoảng 13% số lượng mã sau khi chạy bộ lọc.&lt;/p&gt;

&lt;h3 id=&quot;b-rsi2-smile-phn-nhm-theo-ri-ro-100-ngy&quot;&gt;b. RSI2 smile phân nhóm theo rủi ro 100 ngày&lt;/h3&gt;

&lt;p&gt;Nếu đã từng giao dịch hoặc đọc chart sử dụng chỉ bảo RSI, chúng ta có thể nhận thấy rằng, RSI và giá chuyển động cùng chiều. Khi giá tăng thì giá trị RSI tăng, khi giá giảm thì RSI giảm. Nếu sử dụng tham số càng dài thì tốc độ tăng của chỉ báo sẽ càng chậm (14 sẽ tăng chậm hơn nhiều so với 2).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_12.png&quot; alt=&quot;RS2_12&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lấy ví dụ, với chỉ số VNINDEX, RSI14 biến động ít hơn rất nhiều so với RSI2. Nếu trade sử dụng RSI(2) sẽ rất rủi ro nếu giá di chuyển nhanh mạnh, đột ngột.&lt;/p&gt;

&lt;p&gt;Cách phổ biến để tìm ra tín hiệu giao dịch là lọc thêm 1 lần nữa, tức là lọc ra các mã có volatility thấp và cao, sau đó mới quyết định sử dụng các trading rule với từng nhóm với volatility khác nhau.&lt;/p&gt;

&lt;p&gt;Ở bài viết này tôi sẽ tách toàn bộ sample ra thành 5 nhóm. Nhóm rủi ro nhất với volatility &amp;gt; hoặc = 60. Nhóm ít rủi ro nhất có volatility &amp;lt; 30. Cần lưu ý ở đây là độ lệch chuẩn (standard deviation) được tính toán trên dữ liệu 100 ngày trước đó. Để thỏa mãn yêu cầu 100 ngày, số data point được cắt bớt xuống 155,908. Đa số volatility của các data point (khoảng 60%) rơi vào nhóm từ 30 đến 40%.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_5.jpeg&quot; alt=&quot;RSI2_5&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau khi phân tích dữ liệu, tôi được đồ thị bên dưới&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_4.jpeg&quot; alt=&quot;RSI2_13&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tôi sẽ để các bạn tự phân tích đồ thị phía trên. Điểm nổi bật vẫn luôn nằm ở 2 nhóm 0-10 và 90-100.&lt;/p&gt;

&lt;h3 id=&quot;c-phn-tch-kt-qu&quot;&gt;c. Phân tích kết quả:&lt;/h3&gt;

&lt;p&gt;Vậy từ đống đồ thị phân phối phân tích phần trên, chúng ta rút ra được điều gì?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ nhất, nếu dùng chỉ báo RSI2, chỉ báo sẽ đưa ra rất nhiều tín hiệu nhiễu. Nó khá giống với  giao dịch dựa trên giá đóng cửa ngày hôm trước và trước nữa (giả sử 3 lần tăng liên tục trong 1 tuần thì đặt 1 lệnh mua ngày thứ 4 và thứ 5). Trader có thể sử dụng thêm các chỉ báo về volatility để đo lường về độ biến động của mã cổ phiếu, phân nhóm và pick 1 nhóm các mã để sử dụng RSI2 thay vì backtesting toàn bộ sample.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ 2, nếu nhìn vào 2 cực của đồ thị volatility smile có thể nhận thấy được, nếu các mã trong bộ lọc đồng loạt tăng (không nói đến giá trị tăng lên của vốn hóa tức p nhân q mà chỉ xét đến p) trong một thời gian tương đối dài (3-5 tháng), số lượng data point bên phải sẽ cao hơn bên trái (nhóm &amp;gt; 50 sẽ có số lượng nhiều hơn nhóm &amp;lt; 50). Lúc này có khả năng đà tăng của mid cap và small cap sẽ mạnh mẽ ngang với nhóm large cap (lưu ý là chỉ nhìn vào p chứ không phải p nhân q). Ngược lại, khi có sự phân hóa, giả sử vnindex hay hnxindex vẫn tăng điểm trong khi số lượng data point dịch chuyển sang bên trái tăng lên, vậy có khả năng là 1 số cổ phiếu large cap đang ngầm kém thị trường trong khi đám còn lại đang giao dịch đi ngang hoặc trong down trend ( &lt;em&gt;Lưu ý là cách nhìn thị trường này không áp dụng cho mọi trường hợp và theo ý kiến chủ quan&lt;/em&gt;). Việc sử dụng RSI2 tạo nên 1 góc nhìn mới cho thị trường (có rất nhiều chỉ báo có chức năng tương tự).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ 3, có thể hiểu khi giá trị RSI2 thay đổi qua từng ngày, chúng ta có những điểm data point mới và làm đầy các bar trên đồ thị RSI2 smile. Vậy khi thị trường uptrend, có khả năng các data point sẽ phân bổ nhiều hơn vào phần bên phải hơn phần bên trái. Chúng ta có hiện tượng tương tự nhưng ngược lại với downtrend. Khi thị trường đi ngang hoặc rung lắc nhẹ , các data point sẽ rải đều giữa các bar, không có sự biến động quá nhiều. Khó để phân tích nhất là khi trong thời gian ngắn, thị trường rung lắc dữ dội, sẽ không có khuôn mẫu cho đồ RSI2 smile.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ N: phụ thuộc vào các bạn đọc, có rất nhiều cách để giải thích về hiện tượng bên trên. Quan trọng đó là hiện tượng ở nhiều thị trường và không đc coi là 1 random pattern nữa (bản thân công thức tính RSI2 đã hàm ý điều này, nếu sử dụng RSI3 hay RSI4 chúng ta sẽ không thấy hiện tượng này nữa).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Một điều thú vị nữa là với các thử nghiệm RSI2 trên các thị trường khác, lấy ví dụ cụ thể là Mỹ với chỉ số RUSELL3000, tác giả nhận thấy, số lượng mã chứng khoán có RSI2 &amp;lt; 10 tỉ lệ nghịch với total return của chỉ số hằng năm. Tức là khi có nhiều mã có RSI2 &amp;lt; 10 hơn, chỉ số RUSELL sẽ giảm, tức là có yearly total return âm. Ngược lại khi có ít mã có RSI2 &amp;lt;10, chỉ số sẽ tăng điểm. Tương tự với RSI2 &amp;gt; 90 đó là correlation dương. (tôi sẽ test điều với chỉ số vnindex và hnxindex trong phần 2 của bài viết)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;trading-simulation&quot;&gt;5. Trading simulation&lt;/h2&gt;

&lt;p&gt;Ở phần này, tôi sẽ nghĩ ra 1 rule để trade dựa trên giả định của tôi về chỉ báo RSI2. Tôi sẽ gọi nó là “RSI2 world-cup strategy”. Cách thức hoạt động của nó khá đơn giản với ai đã từng đọc các research paper về finance. Mục đích của phần này chỉ là thử nghiệm ngẫu nhiên về chỉ báo RSI2 mà không dựa trên bất kì cơ sở lý thuyết hay kết quả thực nghiệm nào.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Đầu tiên, trong khoảng thời gian từ 1/1/2016 tới 31/3/2016, tôi dùng bộ lọc ở trên, tính toán chỉ số RSI(2), sau đó mỗi khi mã nào có RSI(2) giảm xuống dưới 5, tôi sẽ cho vào watchllist. Sử dụng Amibroker với đoạn code&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Sau đó tôi sẽ mua toàn bộ các mã trong watchlist sử dụng phương thức equal-weight, nắm giữ tới ngày 29/12/2016 và thanh khoản toàn bộ danh mục ra tiền&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Đầu tiên là sử dụng đoạn code ở phần 2 để lọc toàn bộ mã thỏa mãn tính thanh khoản. Sau đó sử dụng đoạn code sau để thực hiện tiếp filter cho RSI2 &amp;lt; 5 với Apply to AllQuotes và Range From-To-dates (1/1/2016 - 31/3/2016).&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;n&quot;&gt;Filter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RSI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau khi explore xong lưu toàn bộ kết quả vào 1 watchlist. Tiếp tục chạy đoạn code sau để in ra return và volatility của các mã đã đc chọn, với Apply to Filter (chọn watchlist) và Range From-To-dates (29/12/2016):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-cpp&quot; data-lang=&quot;cpp&quot;&gt;&lt;span class=&quot;n&quot;&gt;Filter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;AddColumn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ROC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;192&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;252&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;192&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ROC&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;AddColumn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;StDev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ROC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;192&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;252&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;StDev&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Quá trình trên sẽ lặp lại trong năm 2017.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Sau khi quá trình hoàn tất tôi sẽ so sánh return của “RSI2 world-cup strategy” với buy-and-hold return của VNINDEX. (Lưu dữ liệu exploration vào file excel hay csv rồi xử lý tiếp)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Đầu tiên là phân phối của holding-period-return của 2 watchlist trong 2016 và 2017:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_8.jpeg&quot; alt=&quot;RSI2_8&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tiếp đến là efficient frontier của 2 watchlist trong 2016 và 2017:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_9.jpeg&quot; alt=&quot;RSI2_9&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_10.jpeg&quot; alt=&quot;RSI2_10&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cuối cùng là performance, “RSI2 world-cup strategy” có holding-period return là 19.50% trong năm 2016 và 2.15% trong năm 2017, thấp hơn so với VNINDEX là 18.9% trong năm 2016 và 36.28% trong năm 2017. Tuy nhiên điểm sáng của chiến lược là nó đã outperform VNINDEX trong năm 2016 khoảng 0.6% chưa tính đến volatility.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/RSI2/RSI2_11.jpeg&quot; alt=&quot;RSI2_11&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bài viết phần 1 sẽ được dừng lại ở đây. Các phân tích nhận định kĩ hơn sẽ được để dành cho phần 2.&lt;/p&gt;
</description>
        <pubDate>Mon, 02 Jul 2018 12:00:00 +0000</pubDate>
        <link>http://NTLresearch.github.io/amibroker/RSI2</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/amibroker/RSI2</guid>
        
        <category>Amibroker</category>
        
        
        <category>amibroker</category>
        
      </item>
    
      <item>
        <title>Charting2</title>
        <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;Bokeh Plot&lt;/title&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.css&quot; type=&quot;text/css&quot; /&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    Bokeh.set_log_level(&quot;info&quot;);
&lt;/script&gt;
        &lt;style&gt;
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;div class=&quot;bk-root&quot;&gt;
            &lt;div class=&quot;bk-plotdiv&quot; id=&quot;c26e3f4e-8f0f-4fb9-825f-9f871fd14b77&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;script type=&quot;application/json&quot; id=&quot;9eef0869-d6d1-4f7c-90e9-980694bf57d0&quot;&gt;
          {&quot;71a3216c-86fc-4f28-ac6f-713a5b386097&quot;:{&quot;roots&quot;:{&quot;references&quot;:[{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;95ace5c5-05e2-4f88-830c-6bac3990761a&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;edd7ddde-d696-48c7-8036-4edd4e817c4a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;ccbe84a3-73b9-4b35-93df-188f1619b563&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;413e5c79-59c1-4b7d-8cba-d297e92a5f4f&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;170d13ff-78cb-4ffd-9fdf-9b8fb69cd822&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;5e9a8100-7674-4c1d-9998-7220060459a4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;edd7ddde-d696-48c7-8036-4edd4e817c4a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;93b83a4f-f6f3-48c4-b6c2-14c374655e8a&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;483ec5c6-201a-4120-a987-b86183d56314&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;96416ff7-3133-49df-b05a-b863a81c7a0b&quot;,&quot;type&quot;:&quot;HelpTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;92fc2c5c-e49f-4ef4-8e7b-c3f4a1c4e36a&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;attributes&quot;:{&quot;dimension&quot;:1,&quot;plot&quot;:{&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;170d13ff-78cb-4ffd-9fdf-9b8fb69cd822&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;ad192a8d-45a5-4523-afa6-8ce7a2080289&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;firebrick&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.5},&quot;line_color&quot;:{&quot;value&quot;:&quot;firebrick&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;cd41eebf-2a12-419c-a1c9-842e7d52e831&quot;,&quot;type&quot;:&quot;Triangle&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;8259c9f6-d04b-4ab0-91c5-c39a120bdbae&quot;,&quot;type&quot;:&quot;Circle&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;y&quot;],&quot;data&quot;:{&quot;x&quot;:[0,1,2,3,4,5,6,7,8,9,10],&quot;y&quot;:[10,9,8,7,6,5,4,3,2,1,0]}},&quot;id&quot;:&quot;dbb9de58-4f41-4a17-927f-3da0759cc2f4&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;fc1ddd2a-dde9-4159-83fc-20d6dc82fc74&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;y&quot;],&quot;data&quot;:{&quot;x&quot;:[0,1,2,3,4,5,6,7,8,9,10],&quot;y&quot;:[0,1,2,3,4,5,6,7,8,9,10]}},&quot;id&quot;:&quot;278e5c12-5933-4e66-b779-61b2aa4adc65&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;960a88ae-5067-4f04-b02d-81fa882e4eaa&quot;,&quot;type&quot;:&quot;Square&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;b571ed09-1445-4e4f-8a35-3c8b9fe40f5a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;27516da0-3a2a-40e4-b729-5de813323444&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;below&quot;:[{&quot;id&quot;:&quot;505a908d-17c1-49dc-8af1-c7bcdb72a8ca&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;left&quot;:[{&quot;id&quot;:&quot;5e9a8100-7674-4c1d-9998-7220060459a4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;plot_height&quot;:250,&quot;plot_width&quot;:250,&quot;renderers&quot;:[{&quot;id&quot;:&quot;505a908d-17c1-49dc-8af1-c7bcdb72a8ca&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;2797fc82-809c-4c6b-9232-70934071cb1d&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;5e9a8100-7674-4c1d-9998-7220060459a4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;ad192a8d-45a5-4523-afa6-8ce7a2080289&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;d332a989-b2e4-40e1-b2c1-f1abd550dfe2&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;id&quot;:&quot;e523ce19-72a3-44b1-9b26-ed1603709801&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;}],&quot;title&quot;:null,&quot;toolbar&quot;:{&quot;id&quot;:&quot;6e4606b8-5763-464c-8bf4-b0c836de1e91&quot;,&quot;type&quot;:&quot;Toolbar&quot;},&quot;x_range&quot;:{&quot;id&quot;:&quot;ff978e18-ab9d-4edc-8001-d52fe005ea2c&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;x_scale&quot;:{&quot;id&quot;:&quot;fb02b49e-d4e0-4aad-ac9e-32636cdd0f83&quot;,&quot;type&quot;:&quot;LinearScale&quot;},&quot;y_range&quot;:{&quot;id&quot;:&quot;4124dce2-8a97-4489-bb02-a2aff96246fc&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;y_scale&quot;:{&quot;id&quot;:&quot;260004d2-09d0-4fc3-b3ab-7d74d6d64075&quot;,&quot;type&quot;:&quot;LinearScale&quot;}},&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;attributes&quot;:{&quot;active_drag&quot;:&quot;auto&quot;,&quot;active_inspect&quot;:&quot;auto&quot;,&quot;active_scroll&quot;:&quot;auto&quot;,&quot;active_tap&quot;:&quot;auto&quot;,&quot;tools&quot;:[{&quot;id&quot;:&quot;4ca89a7d-c738-4051-be0f-ab55f4f1fff5&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;id&quot;:&quot;f7daecbc-d2fb-44f9-9289-1d933fa20071&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;id&quot;:&quot;bb5be275-d439-4278-83ff-4078fe076d5f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;id&quot;:&quot;da380802-ecfb-48f8-b92d-cae7f0a58f49&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;id&quot;:&quot;41a064cb-486c-4dda-b59f-6cd53965c832&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;id&quot;:&quot;25e43a4a-1764-485a-860e-73a6f944263f&quot;,&quot;type&quot;:&quot;HelpTool&quot;}]},&quot;id&quot;:&quot;6e4606b8-5763-464c-8bf4-b0c836de1e91&quot;,&quot;type&quot;:&quot;Toolbar&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;43759cd0-b9dc-495a-b1d2-3592d33e1b1a&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;4124dce2-8a97-4489-bb02-a2aff96246fc&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;bottom_units&quot;:&quot;screen&quot;,&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;lightgrey&quot;},&quot;left_units&quot;:&quot;screen&quot;,&quot;level&quot;:&quot;overlay&quot;,&quot;line_alpha&quot;:{&quot;value&quot;:1.0},&quot;line_color&quot;:{&quot;value&quot;:&quot;black&quot;},&quot;line_dash&quot;:[4,4],&quot;line_width&quot;:{&quot;value&quot;:2},&quot;plot&quot;:null,&quot;render_mode&quot;:&quot;css&quot;,&quot;right_units&quot;:&quot;screen&quot;,&quot;top_units&quot;:&quot;screen&quot;},&quot;id&quot;:&quot;b944eb1e-9345-4c44-bcb6-6973152ca704&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;attributes&quot;:{&quot;plot&quot;:{&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;edd7ddde-d696-48c7-8036-4edd4e817c4a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;6a2680e6-6ba4-42ac-a637-ac6e2466007c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;active_drag&quot;:&quot;auto&quot;,&quot;active_inspect&quot;:&quot;auto&quot;,&quot;active_scroll&quot;:&quot;auto&quot;,&quot;active_tap&quot;:&quot;auto&quot;,&quot;tools&quot;:[{&quot;id&quot;:&quot;6848dfbc-c692-4b65-8c4f-0d4ebd02a1b7&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;id&quot;:&quot;51df0ef8-09ac-484b-a246-226ec1f0a698&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;id&quot;:&quot;75709041-4c1e-447b-8b8c-595b9ba3de9a&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;id&quot;:&quot;93b83a4f-f6f3-48c4-b6c2-14c374655e8a&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;id&quot;:&quot;88aec265-7b27-4e59-b43e-628d69abf856&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;id&quot;:&quot;96416ff7-3133-49df-b05a-b863a81c7a0b&quot;,&quot;type&quot;:&quot;HelpTool&quot;}]},&quot;id&quot;:&quot;f5190695-f55c-49a8-bf2f-c77c75b5cea7&quot;,&quot;type&quot;:&quot;Toolbar&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;da380802-ecfb-48f8-b92d-cae7f0a58f49&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;25e43a4a-1764-485a-860e-73a6f944263f&quot;,&quot;type&quot;:&quot;HelpTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;y&quot;],&quot;data&quot;:{&quot;x&quot;:[0,1,2,3,4,5,6,7,8,9,10],&quot;y&quot;:[5,4,3,2,1,0,1,2,3,4,5]}},&quot;id&quot;:&quot;79610051-920f-41c0-b27c-0f23a43054d0&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;e21d872c-cccf-4175-b65e-5a855d049ef4&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;ff978e18-ab9d-4edc-8001-d52fe005ea2c&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;278e5c12-5933-4e66-b779-61b2aa4adc65&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;33424594-0cf7-437d-aa6b-78da13d86463&quot;,&quot;type&quot;:&quot;Circle&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;8259c9f6-d04b-4ab0-91c5-c39a120bdbae&quot;,&quot;type&quot;:&quot;Circle&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;c5d4d679-10d8-457f-8f05-16436462f2e4&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;b72e2a55-0d01-48b7-9ff6-3de60cc3f62a&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;dimension&quot;:1,&quot;plot&quot;:{&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;483ec5c6-201a-4120-a987-b86183d56314&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;7d752a79-6e58-44b6-8351-f7fad82e6354&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;278e5c12-5933-4e66-b779-61b2aa4adc65&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;c5d4d679-10d8-457f-8f05-16436462f2e4&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;786d1bca-c448-47d7-980d-949132eae28b&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;olive&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.5},&quot;line_color&quot;:{&quot;value&quot;:&quot;olive&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;2db200a4-65ad-42af-8bd0-9bd3debc7413&quot;,&quot;type&quot;:&quot;Square&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;ced173ad-a897-4774-a662-a5c6bd377369&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;c98866fa-fb55-457f-9e66-7a28746d1343&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;navy&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.5},&quot;line_color&quot;:{&quot;value&quot;:&quot;navy&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;33424594-0cf7-437d-aa6b-78da13d86463&quot;,&quot;type&quot;:&quot;Circle&quot;},{&quot;attributes&quot;:{&quot;plot&quot;:{&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;c3d0a341-077a-4a03-aff5-3f5313012302&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;2797fc82-809c-4c6b-9232-70934071cb1d&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;88aec265-7b27-4e59-b43e-628d69abf856&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;4bc21c3d-84c6-4ef1-8ad4-fd3225c2417b&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;e21d872c-cccf-4175-b65e-5a855d049ef4&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;483ec5c6-201a-4120-a987-b86183d56314&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;190cd6c9-de0e-4dea-ae84-592baa5f0772&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{&quot;below&quot;:[{&quot;id&quot;:&quot;a3f24f2e-f963-428a-8407-839e8bfc3319&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;left&quot;:[{&quot;id&quot;:&quot;5e0a34f4-e3a6-4428-883f-be17bbf399d4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;plot_height&quot;:250,&quot;plot_width&quot;:250,&quot;renderers&quot;:[{&quot;id&quot;:&quot;a3f24f2e-f963-428a-8407-839e8bfc3319&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;439c5279-29c2-4247-941b-0f0bab7c30db&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;5e0a34f4-e3a6-4428-883f-be17bbf399d4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;ae9f7a17-bdee-4a60-993a-2c780b965e5f&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;58fb5f13-9879-4e8d-a59a-98c993b1fa6c&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;id&quot;:&quot;b72e2a55-0d01-48b7-9ff6-3de60cc3f62a&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;}],&quot;title&quot;:null,&quot;toolbar&quot;:{&quot;id&quot;:&quot;858274b3-8e44-48f8-83d7-49c2bb49f372&quot;,&quot;type&quot;:&quot;Toolbar&quot;},&quot;x_range&quot;:{&quot;id&quot;:&quot;fc1ddd2a-dde9-4159-83fc-20d6dc82fc74&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;x_scale&quot;:{&quot;id&quot;:&quot;1e7fba87-850c-46b0-95cd-1763c07e977f&quot;,&quot;type&quot;:&quot;LinearScale&quot;},&quot;y_range&quot;:{&quot;id&quot;:&quot;6933461d-4e28-4626-a3ea-18a9091ea390&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;y_scale&quot;:{&quot;id&quot;:&quot;4bc21c3d-84c6-4ef1-8ad4-fd3225c2417b&quot;,&quot;type&quot;:&quot;LinearScale&quot;}},&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;1e7fba87-850c-46b0-95cd-1763c07e977f&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;4ca89a7d-c738-4051-be0f-ab55f4f1fff5&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;e0bda4d6-76f2-41d8-b514-ac9bf0d8201f&quot;,&quot;type&quot;:&quot;HelpTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;a099d02f-5745-4831-843a-9f0d7f6e1c2d&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;6848dfbc-c692-4b65-8c4f-0d4ebd02a1b7&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;attributes&quot;:{&quot;overlay&quot;:{&quot;id&quot;:&quot;58fb5f13-9879-4e8d-a59a-98c993b1fa6c&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}},&quot;id&quot;:&quot;70f07746-013a-4b22-a2ac-2251ef4f46dd&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;aa651855-e43d-40b2-9222-0b83a20530ec&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;b571ed09-1445-4e4f-8a35-3c8b9fe40f5a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;5e0a34f4-e3a6-4428-883f-be17bbf399d4&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;170d13ff-78cb-4ffd-9fdf-9b8fb69cd822&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{&quot;overlay&quot;:{&quot;id&quot;:&quot;b944eb1e-9345-4c44-bcb6-6973152ca704&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}},&quot;id&quot;:&quot;75709041-4c1e-447b-8b8c-595b9ba3de9a&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;bb271021-c05c-4c7e-8d5e-650ff1c4509d&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;dbb9de58-4f41-4a17-927f-3da0759cc2f4&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;cd41eebf-2a12-419c-a1c9-842e7d52e831&quot;,&quot;type&quot;:&quot;Triangle&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;1410f8fd-2478-4797-a67c-4a5856be54e4&quot;,&quot;type&quot;:&quot;Triangle&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;2e722987-48b3-404d-af34-fa2d01a8602a&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;9e3de891-11bf-494e-82d7-3981f46c542f&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;dimension&quot;:1,&quot;plot&quot;:{&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;b571ed09-1445-4e4f-8a35-3c8b9fe40f5a&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;ae9f7a17-bdee-4a60-993a-2c780b965e5f&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;79610051-920f-41c0-b27c-0f23a43054d0&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;57a7447c-4c9f-4682-b93a-03fe1ad68add&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;children&quot;:[{&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;}]},&quot;id&quot;:&quot;72cfd4d6-de9f-4467-896e-c897a0cb3433&quot;,&quot;type&quot;:&quot;Row&quot;},{&quot;attributes&quot;:{&quot;overlay&quot;:{&quot;id&quot;:&quot;d332a989-b2e4-40e1-b2c1-f1abd550dfe2&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}},&quot;id&quot;:&quot;bb5be275-d439-4278-83ff-4078fe076d5f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;51df0ef8-09ac-484b-a246-226ec1f0a698&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;31ffeaed-15fe-4616-8db9-3909c4e3aa2b&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;413e5c79-59c1-4b7d-8cba-d297e92a5f4f&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;6933461d-4e28-4626-a3ea-18a9091ea390&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;6c8f5045-7f7d-407a-965c-652a09a148ad&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;c98866fa-fb55-457f-9e66-7a28746d1343&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;a3f24f2e-f963-428a-8407-839e8bfc3319&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;c3d0a341-077a-4a03-aff5-3f5313012302&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;e03dfa26-e2cb-4ea6-b12e-a349774b321b&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;15c31257-d935-413a-b305-85af6e3148ab&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;c3d0a341-077a-4a03-aff5-3f5313012302&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;505a908d-17c1-49dc-8af1-c7bcdb72a8ca&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;79610051-920f-41c0-b27c-0f23a43054d0&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;2db200a4-65ad-42af-8bd0-9bd3debc7413&quot;,&quot;type&quot;:&quot;Square&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;960a88ae-5067-4f04-b02d-81fa882e4eaa&quot;,&quot;type&quot;:&quot;Square&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;57a7447c-4c9f-4682-b93a-03fe1ad68add&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;e523ce19-72a3-44b1-9b26-ed1603709801&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;f7daecbc-d2fb-44f9-9289-1d933fa20071&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;aa651855-e43d-40b2-9222-0b83a20530ec&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;size&quot;:{&quot;units&quot;:&quot;screen&quot;,&quot;value&quot;:10},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;},&quot;y&quot;:{&quot;field&quot;:&quot;y&quot;}},&quot;id&quot;:&quot;1410f8fd-2478-4797-a67c-4a5856be54e4&quot;,&quot;type&quot;:&quot;Triangle&quot;},{&quot;attributes&quot;:{&quot;bottom_units&quot;:&quot;screen&quot;,&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;lightgrey&quot;},&quot;left_units&quot;:&quot;screen&quot;,&quot;level&quot;:&quot;overlay&quot;,&quot;line_alpha&quot;:{&quot;value&quot;:1.0},&quot;line_color&quot;:{&quot;value&quot;:&quot;black&quot;},&quot;line_dash&quot;:[4,4],&quot;line_width&quot;:{&quot;value&quot;:2},&quot;plot&quot;:null,&quot;render_mode&quot;:&quot;css&quot;,&quot;right_units&quot;:&quot;screen&quot;,&quot;top_units&quot;:&quot;screen&quot;},&quot;id&quot;:&quot;d332a989-b2e4-40e1-b2c1-f1abd550dfe2&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;dbb9de58-4f41-4a17-927f-3da0759cc2f4&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;2e722987-48b3-404d-af34-fa2d01a8602a&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fb02b49e-d4e0-4aad-ac9e-32636cdd0f83&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;41a064cb-486c-4dda-b59f-6cd53965c832&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;6c8f5045-7f7d-407a-965c-652a09a148ad&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;260004d2-09d0-4fc3-b3ab-7d74d6d64075&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;e03dfa26-e2cb-4ea6-b12e-a349774b321b&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;95ace5c5-05e2-4f88-830c-6bac3990761a&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;active_drag&quot;:&quot;auto&quot;,&quot;active_inspect&quot;:&quot;auto&quot;,&quot;active_scroll&quot;:&quot;auto&quot;,&quot;active_tap&quot;:&quot;auto&quot;,&quot;tools&quot;:[{&quot;id&quot;:&quot;43759cd0-b9dc-495a-b1d2-3592d33e1b1a&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;id&quot;:&quot;786d1bca-c448-47d7-980d-949132eae28b&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;id&quot;:&quot;70f07746-013a-4b22-a2ac-2251ef4f46dd&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;id&quot;:&quot;92fc2c5c-e49f-4ef4-8e7b-c3f4a1c4e36a&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;id&quot;:&quot;31ffeaed-15fe-4616-8db9-3909c4e3aa2b&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;id&quot;:&quot;e0bda4d6-76f2-41d8-b514-ac9bf0d8201f&quot;,&quot;type&quot;:&quot;HelpTool&quot;}]},&quot;id&quot;:&quot;858274b3-8e44-48f8-83d7-49c2bb49f372&quot;,&quot;type&quot;:&quot;Toolbar&quot;},{&quot;attributes&quot;:{&quot;below&quot;:[{&quot;id&quot;:&quot;ccbe84a3-73b9-4b35-93df-188f1619b563&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;left&quot;:[{&quot;id&quot;:&quot;190cd6c9-de0e-4dea-ae84-592baa5f0772&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;plot_height&quot;:250,&quot;plot_width&quot;:250,&quot;renderers&quot;:[{&quot;id&quot;:&quot;ccbe84a3-73b9-4b35-93df-188f1619b563&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;6a2680e6-6ba4-42ac-a637-ac6e2466007c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;190cd6c9-de0e-4dea-ae84-592baa5f0772&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;7d752a79-6e58-44b6-8351-f7fad82e6354&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;b944eb1e-9345-4c44-bcb6-6973152ca704&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;id&quot;:&quot;9e3de891-11bf-494e-82d7-3981f46c542f&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;}],&quot;title&quot;:null,&quot;toolbar&quot;:{&quot;id&quot;:&quot;f5190695-f55c-49a8-bf2f-c77c75b5cea7&quot;,&quot;type&quot;:&quot;Toolbar&quot;},&quot;x_range&quot;:{&quot;id&quot;:&quot;bb271021-c05c-4c7e-8d5e-650ff1c4509d&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;x_scale&quot;:{&quot;id&quot;:&quot;27516da0-3a2a-40e4-b729-5de813323444&quot;,&quot;type&quot;:&quot;LinearScale&quot;},&quot;y_range&quot;:{&quot;id&quot;:&quot;a099d02f-5745-4831-843a-9f0d7f6e1c2d&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;y_scale&quot;:{&quot;id&quot;:&quot;ced173ad-a897-4774-a662-a5c6bd377369&quot;,&quot;type&quot;:&quot;LinearScale&quot;}},&quot;id&quot;:&quot;3bfb79cf-7c3f-4606-8d9c-00e867a81031&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;attributes&quot;:{&quot;plot&quot;:{&quot;id&quot;:&quot;e6492e52-986e-4ef1-9c66-1f1ba7ae0f86&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;c98866fa-fb55-457f-9e66-7a28746d1343&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;439c5279-29c2-4247-941b-0f0bab7c30db&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;bottom_units&quot;:&quot;screen&quot;,&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;lightgrey&quot;},&quot;left_units&quot;:&quot;screen&quot;,&quot;level&quot;:&quot;overlay&quot;,&quot;line_alpha&quot;:{&quot;value&quot;:1.0},&quot;line_color&quot;:{&quot;value&quot;:&quot;black&quot;},&quot;line_dash&quot;:[4,4],&quot;line_width&quot;:{&quot;value&quot;:2},&quot;plot&quot;:null,&quot;render_mode&quot;:&quot;css&quot;,&quot;right_units&quot;:&quot;screen&quot;,&quot;top_units&quot;:&quot;screen&quot;},&quot;id&quot;:&quot;58fb5f13-9879-4e8d-a59a-98c993b1fa6c&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}],&quot;root_ids&quot;:[&quot;72cfd4d6-de9f-4467-896e-c897a0cb3433&quot;]},&quot;title&quot;:&quot;Bokeh Application&quot;,&quot;version&quot;:&quot;0.12.13&quot;}}
        &lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {

                  var docs_json = document.getElementById(&#39;9eef0869-d6d1-4f7c-90e9-980694bf57d0&#39;).textContent;
                  var render_items = [{&quot;docid&quot;:&quot;71a3216c-86fc-4f28-ac6f-713a5b386097&quot;,&quot;elementid&quot;:&quot;c26e3f4e-8f0f-4fb9-825f-9f871fd14b77&quot;,&quot;modelid&quot;:&quot;72cfd4d6-de9f-4467-896e-c897a0cb3433&quot;}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);

                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        embed_document(root);
                        clearInterval(timer);
                      }
                      attempts++;
                      if (attempts &gt; 100) {
                        console.log(&quot;Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing&quot;)
                        clearInterval(timer);
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != &quot;loading&quot;) fn();
            else document.addEventListener(&quot;DOMContentLoaded&quot;, fn);
          })();
        &lt;/script&gt;

        &lt;p&gt;
            This is the page for charting
        &lt;/p&gt;

        &lt;p&gt;
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nostrum nam, provident ratione porro eaque asperiores voluptatem, laborum architecto libero pariatur expedita numquam. Libero, iste? Sapiente dolorem quis placeat voluptatibus obcaecati.
        &lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;
</description>
        <pubDate>Fri, 29 Jun 2018 00:00:00 +0300</pubDate>
        <link>http://NTLresearch.github.io/charting2</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/charting2</guid>
        
        
      </item>
    
      <item>
        <title>Charting</title>
        <description>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt;candlestick.py example&lt;/title&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.css&quot; type=&quot;text/css&quot; /&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;https://cdn.pydata.org/bokeh/release/bokeh-0.12.13.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    Bokeh.set_log_level(&quot;info&quot;);
&lt;/script&gt;
        &lt;style&gt;
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }
        &lt;/style&gt;
    &lt;/head&gt;
    &lt;body&gt;

        &lt;div class=&quot;bk-root&quot;&gt;
            &lt;div class=&quot;bk-plotdiv&quot; id=&quot;ec6d21c4-c7d6-4a08-bcd9-24d606c4f710&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;script type=&quot;application/json&quot; id=&quot;84275238-4287-4d1a-9541-fbc55978ba86&quot;&gt;
          {&quot;da825016-f931-4212-8be9-c32e19959f39&quot;:{&quot;roots&quot;:{&quot;references&quot;:[{&quot;attributes&quot;:{},&quot;id&quot;:&quot;b6c39efa-9aae-4c60-a3da-fd075656b1a4&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;top&quot;,&quot;bottom&quot;],&quot;data&quot;:{&quot;bottom&quot;:{&quot;__ndarray__&quot;:&quot;pHA9CtezVkBI4XoUrldXQEjhehSuB1hApHA9CtfjV0AAAAAAAABZQAAAAAAAQFlAAAAAAACAWEBI4XoUrtdXQEjhehSu11hAAAAAAACwWUAAAAAAANBZQEjhehSu91tApHA9CtcTWkBcj8L1KMxaQAAAAAAAkFpApHA9CtdDVkBI4XoUrvdSQKRwPQrXI1RAXI/C9Si8U0BI4XoUrldRQKRwPQrXc1FAXI/C9ShcUkCkcD0K16NRQFyPwvUonFFASOF6FK7HUUA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;top&quot;:{&quot;__ndarray__&quot;:&quot;SOF6FK5nVkCkcD0K1/NWQAAAAAAAsFdApHA9CtdzV0CkcD0K19NXQKRwPQrX41hASOF6FK5nWECkcD0K16NXQAAAAAAA0FdAAAAAAAAwWECkcD0K17NZQKRwPQrXs1pASOF6FK7nWUBcj8L1KExaQAAAAAAAgFpAAAAAAADAVUAAAAAAAJBSQAAAAAAAIFNASOF6FK6nU0AAAAAAADBRQFyPwvUo3FBASOF6FK43UkBI4XoUrpdRQKRwPQrXk1FAAAAAAACQUUA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;x&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAOHu4a0IAAIADILlrQgAAAM/EuWtCAACAMbO7a0IAAIDI/LxrQgAAgF9GvmtCAACAjdnAa0IAAABZfsFrQgAAgCQjwmtCAAAAHlvFa0IAAIDp/8VrQgAAgIBJx2tCAAAAEcvLa0IAAAAEO9JrQgAAgM/f0mtCAACAZinUa0IAAABgYddrQgAAAPeq2GtCAAAAJT7ba0IAAAC8h9xrQgAAgIcs3WtCAAAAU9Hda0I=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]}}},&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;43245f5f-8af8-402a-9627-f804c0bbeaa7&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fc73f114-54b7-4eb0-9886-8a68b390e7b3&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#D5E1DD&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;e951cd9a-1e03-4990-88dc-ee563fc2efe4&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;grid_line_alpha&quot;:{&quot;value&quot;:0.3},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;}},&quot;id&quot;:&quot;f989b05b-bf45-43b1-b028-7eb463f6679c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;4d0ff21e-aed4-4604-a2d6-f13bb424b540&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;a1db8277-0043-43aa-8ae5-c1b833bf571b&quot;,&quot;type&quot;:&quot;DatetimeTickFormatter&quot;},&quot;major_label_orientation&quot;:0.7853981633974483,&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;}},&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;e951cd9a-1e03-4990-88dc-ee563fc2efe4&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;4d0ff21e-aed4-4604-a2d6-f13bb424b540&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;32d339d2-135d-4e6b-88f8-05815553bbc9&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;d451eb06-724c-4824-9913-dd79191508db&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;num_minor_ticks&quot;:5,&quot;tickers&quot;:[{&quot;id&quot;:&quot;9f7d65d6-1e7d-4548-b74d-70e6338e0548&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;905512c1-bf55-49fe-9e03-b35e3ae8ecbc&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;8a71a549-2375-4dcb-a2c8-43bfa03acc37&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;82d5380d-32e1-4f74-896a-4e317c0c3a64&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;d4660f63-c828-475d-b514-59465146095c&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;ceb1a065-12f3-443f-9f36-c28ca218fcce&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;1df8eb88-e496-4921-9179-b2ce0affa4de&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;d1dcf424-8a37-482d-94a4-81f6bb51e122&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;738961a0-e75b-4a9c-b420-cd81adee65c8&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;40abf668-b94c-4f96-aad7-e776d1a8d286&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;1459b218-d047-451b-81b8-48edd861e72f&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;991192a4-8b39-4c18-bed2-558ea62229f9&quot;,&quot;type&quot;:&quot;YearsTicker&quot;}]},&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;32d339d2-135d-4e6b-88f8-05815553bbc9&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;da679e5d-d86a-4b17-8a72-9e38b4da7662&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{&quot;dimension&quot;:1,&quot;grid_line_alpha&quot;:{&quot;value&quot;:0.3},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;d1576bbc-9901-4492-b0f3-5cac85de464b&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;x0&quot;:{&quot;field&quot;:&quot;x0&quot;},&quot;x1&quot;:{&quot;field&quot;:&quot;x1&quot;},&quot;y0&quot;:{&quot;field&quot;:&quot;y0&quot;},&quot;y1&quot;:{&quot;field&quot;:&quot;y1&quot;}},&quot;id&quot;:&quot;5e429604-b9a4-4bf0-8cab-e4352c1bd8af&quot;,&quot;type&quot;:&quot;Segment&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;da679e5d-d86a-4b17-8a72-9e38b4da7662&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;bottom_units&quot;:&quot;screen&quot;,&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;lightgrey&quot;},&quot;left_units&quot;:&quot;screen&quot;,&quot;level&quot;:&quot;overlay&quot;,&quot;line_alpha&quot;:{&quot;value&quot;:1.0},&quot;line_color&quot;:{&quot;value&quot;:&quot;black&quot;},&quot;line_dash&quot;:[4,4],&quot;line_width&quot;:{&quot;value&quot;:2},&quot;plot&quot;:null,&quot;render_mode&quot;:&quot;css&quot;,&quot;right_units&quot;:&quot;screen&quot;,&quot;top_units&quot;:&quot;screen&quot;},&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fc2d0606-c30a-4acf-899b-67c827096a3e&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;top&quot;,&quot;bottom&quot;],&quot;data&quot;:{&quot;bottom&quot;:{&quot;__ndarray__&quot;:&quot;SOF6FK6nVkBI4XoUrjdXQEjhehSux1dASOF6FK7XV0BI4XoUrldYQFyPwvUo7FtApHA9CtcDWkBI4XoUrtdZQEjhehSut1ZApHA9CtcjVkBI4XoUrpdVQAAAAAAAgFVApHA9CteDVUBI4XoUrvdUQEjhehSu11NAAAAAAADQU0BI4XoUrodSQFyPwvUorFNASOF6FK6nUEAAAAAAAABRQAAAAAAAcFFASOF6FK53UUCkcD0K13NRQKRwPQrX81BAXI/C9SiMUEA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;top&quot;:{&quot;__ndarray__&quot;:&quot;AAAAAAAAWEBI4XoUrgdYQEjhehSup1hAXI/C9Sj8V0AAAAAAALBYQEjhehSuJ1xA4XoUrkfxWkBcj8L1KIxaQFyPwvUonFdApHA9CtfjVkAAAAAAABBWQEjhehSu91VASOF6FK4nVkBI4XoUrkdVQEjhehSuh1RASOF6FK43VEBI4XoUrsdTQFyPwvUoXFRAAAAAAADQUEAAAAAAAIBRQAAAAAAAsFFApHA9CtczUkBcj8L1KLxRQFyPwvUojFFAAAAAAADwUEA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;x&quot;:{&quot;__ndarray__&quot;:&quot;AAAAoTG3a0IAAIBs1rdrQgAAAP1XvGtCAAAAlKG9a0IAAADCNMBrQgAAAPDHwmtCAACAUrbEa0IAAAC1pMZrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAACAc7nNa0IAAAA/Xs5rQgAAgAoDz2tCAAAA1qfPa0IAAIChTNBrQgAAAJuE02tCAACAlLzWa0IAAIArBthrQgAAgMJP2WtCAACA8OLba0IAAIC1v99rQgAAAIFk4GtCAACATAnha0I=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]}}},&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;a1db8277-0043-43aa-8ae5-c1b833bf571b&quot;,&quot;type&quot;:&quot;DatetimeTickFormatter&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;e3c27d4a-5c2d-4093-8b72-d4dcf0d76235&quot;,&quot;type&quot;:&quot;Segment&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;5e429604-b9a4-4bf0-8cab-e4352c1bd8af&quot;,&quot;type&quot;:&quot;Segment&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;6a41005e-8c64-4f5d-9f96-9c18eccf4dbb&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;429b14fd-3b2a-4b3e-807b-5240d1423ab5&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;2661949c-bdc3-4368-bcb3-6e4e33261b91&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#F2583E&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;249c26dd-d5bc-488e-ad8f-004c02da543f&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;mantissas&quot;:[1,2,5],&quot;max_interval&quot;:500.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;9f7d65d6-1e7d-4548-b74d-70e6338e0548&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;f2e0d232-4b63-4049-9c0a-b7d3731dad66&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,8,15,22]},&quot;id&quot;:&quot;ceb1a065-12f3-443f-9f36-c28ca218fcce&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;249c26dd-d5bc-488e-ad8f-004c02da543f&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;f2e0d232-4b63-4049-9c0a-b7d3731dad66&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;0ec1f8e3-c594-4878-9354-eaa6b3a542b6&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;c9d37a83-7092-444f-bcf1-7365162a5f67&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,4,7,10,13,16,19,22,25,28]},&quot;id&quot;:&quot;d4660f63-c828-475d-b514-59465146095c&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;0ec1f8e3-c594-4878-9354-eaa6b3a542b6&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;base&quot;:24,&quot;mantissas&quot;:[1,2,4,6,8,12],&quot;max_interval&quot;:43200000.0,&quot;min_interval&quot;:3600000.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;8a71a549-2375-4dcb-a2c8-43bfa03acc37&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},&quot;id&quot;:&quot;82d5380d-32e1-4f74-896a-4e317c0c3a64&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;base&quot;:60,&quot;mantissas&quot;:[1,2,5,10,15,20,30],&quot;max_interval&quot;:1800000.0,&quot;min_interval&quot;:1000.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;905512c1-bf55-49fe-9e03-b35e3ae8ecbc&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,15]},&quot;id&quot;:&quot;1df8eb88-e496-4921-9179-b2ce0affa4de&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,1,2,3,4,5,6,7,8,9,10,11]},&quot;id&quot;:&quot;d1dcf424-8a37-482d-94a4-81f6bb51e122&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,2,4,6,8,10]},&quot;id&quot;:&quot;738961a0-e75b-4a9c-b420-cd81adee65c8&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;9255b3eb-2aa2-40ea-bfc8-50553b6efc99&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,4,8]},&quot;id&quot;:&quot;40abf668-b94c-4f96-aad7-e776d1a8d286&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,6]},&quot;id&quot;:&quot;1459b218-d047-451b-81b8-48edd861e72f&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;991192a4-8b39-4c18-bed2-558ea62229f9&quot;,&quot;type&quot;:&quot;YearsTicker&quot;},{&quot;attributes&quot;:{&quot;below&quot;:[{&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;}],&quot;left&quot;:[{&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;plot_width&quot;:1000,&quot;renderers&quot;:[{&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;},{&quot;id&quot;:&quot;f989b05b-bf45-43b1-b028-7eb463f6679c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;d1576bbc-9901-4492-b0f3-5cac85de464b&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;id&quot;:&quot;429b14fd-3b2a-4b3e-807b-5240d1423ab5&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;id&quot;:&quot;d451eb06-724c-4824-9913-dd79191508db&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;id&quot;:&quot;c9d37a83-7092-444f-bcf1-7365162a5f67&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;}],&quot;title&quot;:{&quot;id&quot;:&quot;c1498182-b004-4824-865b-206c8c034713&quot;,&quot;type&quot;:&quot;Title&quot;},&quot;toolbar&quot;:{&quot;id&quot;:&quot;af5b71bf-446f-4fc2-b57c-2fa0fce21914&quot;,&quot;type&quot;:&quot;Toolbar&quot;},&quot;x_range&quot;:{&quot;id&quot;:&quot;9255b3eb-2aa2-40ea-bfc8-50553b6efc99&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;x_scale&quot;:{&quot;id&quot;:&quot;b6c39efa-9aae-4c60-a3da-fd075656b1a4&quot;,&quot;type&quot;:&quot;LinearScale&quot;},&quot;y_range&quot;:{&quot;id&quot;:&quot;43245f5f-8af8-402a-9627-f804c0bbeaa7&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;y_scale&quot;:{&quot;id&quot;:&quot;fc73f114-54b7-4eb0-9886-8a68b390e7b3&quot;,&quot;type&quot;:&quot;LinearScale&quot;}},&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;attributes&quot;:{&quot;overlay&quot;:{&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}},&quot;id&quot;:&quot;b60f6cf3-64d8-4324-958c-8538b816559f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;attributes&quot;:{&quot;x0&quot;:{&quot;field&quot;:&quot;x0&quot;},&quot;x1&quot;:{&quot;field&quot;:&quot;x1&quot;},&quot;y0&quot;:{&quot;field&quot;:&quot;y0&quot;},&quot;y1&quot;:{&quot;field&quot;:&quot;y1&quot;}},&quot;id&quot;:&quot;e3c27d4a-5c2d-4093-8b72-d4dcf0d76235&quot;,&quot;type&quot;:&quot;Segment&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;50b32177-dfd3-4305-9960-136ae88293ec&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x0&quot;,&quot;y0&quot;,&quot;x1&quot;,&quot;y1&quot;],&quot;data&quot;:{&quot;x0&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAoTG3a0IAAIBs1rdrQgAAADh7uGtCAACAAyC5a0IAAADPxLlrQgAAgDGzu2tCAAAA/Ve8a0IAAIDI/LxrQgAAAJShvWtCAACAX0a+a0IAAADCNMBrQgAAgI3ZwGtCAAAAWX7Ba0IAAIAkI8JrQgAAAPDHwmtCAACAUrbEa0IAAAAeW8VrQgAAgOn/xWtCAAAAtaTGa0IAAICAScdrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAAAAEcvLa0IAAIBzuc1rQgAAAD9ezmtCAACACgPPa0IAAADWp89rQgAAgKFM0GtCAAAABDvSa0IAAIDP39JrQgAAAJuE02tCAACAZinUa0IAAICUvNZrQgAAAGBh12tCAACAKwbYa0IAAAD3qthrQgAAgMJP2WtCAAAAJT7ba0IAAIDw4ttrQgAAALyH3GtCAACAhyzda0IAAABT0d1rQgAAgLW/32tCAAAAgWTga0IAAIBMCeFrQg==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;x1&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAoTG3a0IAAIBs1rdrQgAAADh7uGtCAACAAyC5a0IAAADPxLlrQgAAgDGzu2tCAAAA/Ve8a0IAAIDI/LxrQgAAAJShvWtCAACAX0a+a0IAAADCNMBrQgAAgI3ZwGtCAAAAWX7Ba0IAAIAkI8JrQgAAAPDHwmtCAACAUrbEa0IAAAAeW8VrQgAAgOn/xWtCAAAAtaTGa0IAAICAScdrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAAAAEcvLa0IAAIBzuc1rQgAAAD9ezmtCAACACgPPa0IAAADWp89rQgAAgKFM0GtCAAAABDvSa0IAAIDP39JrQgAAAJuE02tCAACAZinUa0IAAICUvNZrQgAAAGBh12tCAACAKwbYa0IAAAD3qthrQgAAgMJP2WtCAAAAJT7ba0IAAIDw4ttrQgAAALyH3GtCAACAhyzda0IAAABT0d1rQgAAgLW/32tCAAAAgWTga0IAAIBMCeFrQg==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;y0&quot;:{&quot;__ndarray__&quot;:&quot;9ihcj8KFV0BI4XoUrtdXQEjhehSut1hASOF6FK5XWEAAAAAAAGBYQFyPwvUoDFhAAAAAAAAAWUAAAAAAAKBZQAAAAAAAEFlAAAAAAADQWEBI4XoUridYQFyPwvUoLFhAAAAAAADgWEAAAAAAAPBYQEjhehSux1lASOF6FK5nWkBI4XoUrjdcQAAAAAAAwFxAAAAAAAAQW0Bcj8L1KNxaQFyPwvUoPFtASOF6FK4nW0AAAAAAABBbQAAAAAAAIFhAAAAAAAAAV0AAAAAAACBWQAAAAAAAAFZASOF6FK5XVkBI4XoUridWQKRwPQrXg1VAAAAAAACQVEAAAAAAAJBUQAAAAAAA4FNAAAAAAAAAU0Bcj8L1KHxUQAAAAAAAYFRASOF6FK73U0AAAAAAAABRQAAAAAAAYFFASOF6FK7HUUBcj8L1KHxRQAAAAAAAwFFAAAAAAACAUkAAAAAAAGBSQKRwPQrXs1FAAAAAAADQUUCkcD0K1/NRQEjhehSu11FAXI/C9SicUUBI4XoUrvdQQA==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;y1&quot;:{&quot;__ndarray__&quot;:&quot;XI/C9Sg8VkBI4XoUrsdWQEjhehSud1dASOF6FK6HVkBcj8L1KPxWQAAAAAAAwFZAAAAAAADAV0AAAAAAAOBYQAAAAAAAYFhASOF6FK7HV0Bcj8L1KGxXQAAAAAAAUFdAAAAAAACgV0AAAAAAACBYQAAAAAAAIFhASOF6FK5HWUBI4XoUrqdaQKRwPQrXY1tAXI/C9Sj8WUBI4XoUrpdZQEjhehSuR1pAAAAAAACgWUBI4XoUrgdaQAAAAAAAgFZAXI/C9Sg8VUBI4XoUrndVQOF6FK5HUVVAAAAAAABAVUAAAAAAAIBVQAAAAAAA4FRAAAAAAACwU0AAAAAAAMBTQAAAAAAAUFJAAAAAAABAUkBI4XoUrvdSQEjhehSuh1NAAAAAAABgU0AAAAAAAEBQQEjhehSu51BASOF6FK7XUEBI4XoUrtdQQAAAAAAAEFFAXI/C9SjsUUAAAAAAAGBRQKRwPQrXM1FApHA9CtdTUUBI4XoUrndRQFyPwvUobFFAAAAAAADgUEAAAAAAAHBQQA==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]}}},&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;6a41005e-8c64-4f5d-9f96-9c18eccf4dbb&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;plot&quot;:null,&quot;text&quot;:&quot;MSFT Candlestick&quot;},&quot;id&quot;:&quot;c1498182-b004-4824-865b-206c8c034713&quot;,&quot;type&quot;:&quot;Title&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fb0d93f1-42a7-4f19-8e44-923a6fce964e&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;attributes&quot;:{&quot;active_drag&quot;:&quot;auto&quot;,&quot;active_inspect&quot;:&quot;auto&quot;,&quot;active_scroll&quot;:&quot;auto&quot;,&quot;active_tap&quot;:&quot;auto&quot;,&quot;tools&quot;:[{&quot;id&quot;:&quot;fc2d0606-c30a-4acf-899b-67c827096a3e&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;id&quot;:&quot;2661949c-bdc3-4368-bcb3-6e4e33261b91&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;id&quot;:&quot;b60f6cf3-64d8-4324-958c-8538b816559f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;id&quot;:&quot;50b32177-dfd3-4305-9960-136ae88293ec&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;id&quot;:&quot;fb0d93f1-42a7-4f19-8e44-923a6fce964e&quot;,&quot;type&quot;:&quot;SaveTool&quot;}]},&quot;id&quot;:&quot;af5b71bf-446f-4fc2-b57c-2fa0fce21914&quot;,&quot;type&quot;:&quot;Toolbar&quot;}],&quot;root_ids&quot;:[&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;]},&quot;title&quot;:&quot;Bokeh Application&quot;,&quot;version&quot;:&quot;0.12.13&quot;}}
        &lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {

                  var docs_json = document.getElementById(&#39;84275238-4287-4d1a-9541-fbc55978ba86&#39;).textContent;
                  var render_items = [{&quot;docid&quot;:&quot;da825016-f931-4212-8be9-c32e19959f39&quot;,&quot;elementid&quot;:&quot;ec6d21c4-c7d6-4a08-bcd9-24d606c4f710&quot;,&quot;modelid&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);

                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        embed_document(root);
                        clearInterval(timer);
                      }
                      attempts++;
                      if (attempts &gt; 100) {
                        console.log(&quot;Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing&quot;)
                        clearInterval(timer);
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != &quot;loading&quot;) fn();
            else document.addEventListener(&quot;DOMContentLoaded&quot;, fn);
          })();
        &lt;/script&gt;

        &lt;div class=&quot;bk-root&quot;&gt;
            &lt;div class=&quot;bk-plotdiv&quot; id=&quot;ec6d21c4-c7d6-4a08-bcd9-24d606c4f710&quot;&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;script type=&quot;application/json&quot; id=&quot;84275238-4287-4d1a-9541-fbc55978ba86&quot;&gt;
          {&quot;da825016-f931-4212-8be9-c32e19959f39&quot;:{&quot;roots&quot;:{&quot;references&quot;:[{&quot;attributes&quot;:{},&quot;id&quot;:&quot;b6c39efa-9aae-4c60-a3da-fd075656b1a4&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;top&quot;,&quot;bottom&quot;],&quot;data&quot;:{&quot;bottom&quot;:{&quot;__ndarray__&quot;:&quot;pHA9CtezVkBI4XoUrldXQEjhehSuB1hApHA9CtfjV0AAAAAAAABZQAAAAAAAQFlAAAAAAACAWEBI4XoUrtdXQEjhehSu11hAAAAAAACwWUAAAAAAANBZQEjhehSu91tApHA9CtcTWkBcj8L1KMxaQAAAAAAAkFpApHA9CtdDVkBI4XoUrvdSQKRwPQrXI1RAXI/C9Si8U0BI4XoUrldRQKRwPQrXc1FAXI/C9ShcUkCkcD0K16NRQFyPwvUonFFASOF6FK7HUUA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;top&quot;:{&quot;__ndarray__&quot;:&quot;SOF6FK5nVkCkcD0K1/NWQAAAAAAAsFdApHA9CtdzV0CkcD0K19NXQKRwPQrX41hASOF6FK5nWECkcD0K16NXQAAAAAAA0FdAAAAAAAAwWECkcD0K17NZQKRwPQrXs1pASOF6FK7nWUBcj8L1KExaQAAAAAAAgFpAAAAAAADAVUAAAAAAAJBSQAAAAAAAIFNASOF6FK6nU0AAAAAAADBRQFyPwvUo3FBASOF6FK43UkBI4XoUrpdRQKRwPQrXk1FAAAAAAACQUUA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;x&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAOHu4a0IAAIADILlrQgAAAM/EuWtCAACAMbO7a0IAAIDI/LxrQgAAgF9GvmtCAACAjdnAa0IAAABZfsFrQgAAgCQjwmtCAAAAHlvFa0IAAIDp/8VrQgAAgIBJx2tCAAAAEcvLa0IAAAAEO9JrQgAAgM/f0mtCAACAZinUa0IAAABgYddrQgAAAPeq2GtCAAAAJT7ba0IAAAC8h9xrQgAAgIcs3WtCAAAAU9Hda0I=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]}}},&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;43245f5f-8af8-402a-9627-f804c0bbeaa7&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fc73f114-54b7-4eb0-9886-8a68b390e7b3&quot;,&quot;type&quot;:&quot;LinearScale&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#D5E1DD&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;e951cd9a-1e03-4990-88dc-ee563fc2efe4&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;grid_line_alpha&quot;:{&quot;value&quot;:0.3},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;}},&quot;id&quot;:&quot;f989b05b-bf45-43b1-b028-7eb463f6679c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;4d0ff21e-aed4-4604-a2d6-f13bb424b540&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;a1db8277-0043-43aa-8ae5-c1b833bf571b&quot;,&quot;type&quot;:&quot;DatetimeTickFormatter&quot;},&quot;major_label_orientation&quot;:0.7853981633974483,&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;}},&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;e951cd9a-1e03-4990-88dc-ee563fc2efe4&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;4d0ff21e-aed4-4604-a2d6-f13bb424b540&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;32d339d2-135d-4e6b-88f8-05815553bbc9&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;d451eb06-724c-4824-9913-dd79191508db&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;num_minor_ticks&quot;:5,&quot;tickers&quot;:[{&quot;id&quot;:&quot;9f7d65d6-1e7d-4548-b74d-70e6338e0548&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;905512c1-bf55-49fe-9e03-b35e3ae8ecbc&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;8a71a549-2375-4dcb-a2c8-43bfa03acc37&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;id&quot;:&quot;82d5380d-32e1-4f74-896a-4e317c0c3a64&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;d4660f63-c828-475d-b514-59465146095c&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;ceb1a065-12f3-443f-9f36-c28ca218fcce&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;1df8eb88-e496-4921-9179-b2ce0affa4de&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;id&quot;:&quot;d1dcf424-8a37-482d-94a4-81f6bb51e122&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;738961a0-e75b-4a9c-b420-cd81adee65c8&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;40abf668-b94c-4f96-aad7-e776d1a8d286&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;1459b218-d047-451b-81b8-48edd861e72f&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;id&quot;:&quot;991192a4-8b39-4c18-bed2-558ea62229f9&quot;,&quot;type&quot;:&quot;YearsTicker&quot;}]},&quot;id&quot;:&quot;02a78d57-0fad-420b-8170-edf7472feefd&quot;,&quot;type&quot;:&quot;DatetimeTicker&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;764f6b9a-b955-4744-add7-305945ec40dd&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;32d339d2-135d-4e6b-88f8-05815553bbc9&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;formatter&quot;:{&quot;id&quot;:&quot;da679e5d-d86a-4b17-8a72-9e38b4da7662&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;},{&quot;attributes&quot;:{&quot;dimension&quot;:1,&quot;grid_line_alpha&quot;:{&quot;value&quot;:0.3},&quot;plot&quot;:{&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},&quot;ticker&quot;:{&quot;id&quot;:&quot;64318598-acbb-41d2-8417-a3c6e3676df0&quot;,&quot;type&quot;:&quot;BasicTicker&quot;}},&quot;id&quot;:&quot;d1576bbc-9901-4492-b0f3-5cac85de464b&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;attributes&quot;:{&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;x0&quot;:{&quot;field&quot;:&quot;x0&quot;},&quot;x1&quot;:{&quot;field&quot;:&quot;x1&quot;},&quot;y0&quot;:{&quot;field&quot;:&quot;y0&quot;},&quot;y1&quot;:{&quot;field&quot;:&quot;y1&quot;}},&quot;id&quot;:&quot;5e429604-b9a4-4bf0-8cab-e4352c1bd8af&quot;,&quot;type&quot;:&quot;Segment&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;da679e5d-d86a-4b17-8a72-9e38b4da7662&quot;,&quot;type&quot;:&quot;BasicTickFormatter&quot;},{&quot;attributes&quot;:{&quot;bottom_units&quot;:&quot;screen&quot;,&quot;fill_alpha&quot;:{&quot;value&quot;:0.5},&quot;fill_color&quot;:{&quot;value&quot;:&quot;lightgrey&quot;},&quot;left_units&quot;:&quot;screen&quot;,&quot;level&quot;:&quot;overlay&quot;,&quot;line_alpha&quot;:{&quot;value&quot;:1.0},&quot;line_color&quot;:{&quot;value&quot;:&quot;black&quot;},&quot;line_dash&quot;:[4,4],&quot;line_width&quot;:{&quot;value&quot;:2},&quot;plot&quot;:null,&quot;render_mode&quot;:&quot;css&quot;,&quot;right_units&quot;:&quot;screen&quot;,&quot;top_units&quot;:&quot;screen&quot;},&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fc2d0606-c30a-4acf-899b-67c827096a3e&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x&quot;,&quot;top&quot;,&quot;bottom&quot;],&quot;data&quot;:{&quot;bottom&quot;:{&quot;__ndarray__&quot;:&quot;SOF6FK6nVkBI4XoUrjdXQEjhehSux1dASOF6FK7XV0BI4XoUrldYQFyPwvUo7FtApHA9CtcDWkBI4XoUrtdZQEjhehSut1ZApHA9CtcjVkBI4XoUrpdVQAAAAAAAgFVApHA9CteDVUBI4XoUrvdUQEjhehSu11NAAAAAAADQU0BI4XoUrodSQFyPwvUorFNASOF6FK6nUEAAAAAAAABRQAAAAAAAcFFASOF6FK53UUCkcD0K13NRQKRwPQrX81BAXI/C9SiMUEA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;top&quot;:{&quot;__ndarray__&quot;:&quot;AAAAAAAAWEBI4XoUrgdYQEjhehSup1hAXI/C9Sj8V0AAAAAAALBYQEjhehSuJ1xA4XoUrkfxWkBcj8L1KIxaQFyPwvUonFdApHA9CtfjVkAAAAAAABBWQEjhehSu91VASOF6FK4nVkBI4XoUrkdVQEjhehSuh1RASOF6FK43VEBI4XoUrsdTQFyPwvUoXFRAAAAAAADQUEAAAAAAAIBRQAAAAAAAsFFApHA9CtczUkBcj8L1KLxRQFyPwvUojFFAAAAAAADwUEA=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]},&quot;x&quot;:{&quot;__ndarray__&quot;:&quot;AAAAoTG3a0IAAIBs1rdrQgAAAP1XvGtCAAAAlKG9a0IAAADCNMBrQgAAAPDHwmtCAACAUrbEa0IAAAC1pMZrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAACAc7nNa0IAAAA/Xs5rQgAAgAoDz2tCAAAA1qfPa0IAAIChTNBrQgAAAJuE02tCAACAlLzWa0IAAIArBthrQgAAgMJP2WtCAACA8OLba0IAAIC1v99rQgAAAIFk4GtCAACATAnha0I=&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[25]}}},&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;a1db8277-0043-43aa-8ae5-c1b833bf571b&quot;,&quot;type&quot;:&quot;DatetimeTickFormatter&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;e3c27d4a-5c2d-4093-8b72-d4dcf0d76235&quot;,&quot;type&quot;:&quot;Segment&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;5e429604-b9a4-4bf0-8cab-e4352c1bd8af&quot;,&quot;type&quot;:&quot;Segment&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;6a41005e-8c64-4f5d-9f96-9c18eccf4dbb&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;429b14fd-3b2a-4b3e-807b-5240d1423ab5&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;2661949c-bdc3-4368-bcb3-6e4e33261b91&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#F2583E&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;249c26dd-d5bc-488e-ad8f-004c02da543f&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;mantissas&quot;:[1,2,5],&quot;max_interval&quot;:500.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;9f7d65d6-1e7d-4548-b74d-70e6338e0548&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;bottom&quot;:{&quot;field&quot;:&quot;bottom&quot;},&quot;fill_alpha&quot;:{&quot;value&quot;:0.1},&quot;fill_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;line_alpha&quot;:{&quot;value&quot;:0.1},&quot;line_color&quot;:{&quot;value&quot;:&quot;#1f77b4&quot;},&quot;top&quot;:{&quot;field&quot;:&quot;top&quot;},&quot;width&quot;:{&quot;value&quot;:43200000},&quot;x&quot;:{&quot;field&quot;:&quot;x&quot;}},&quot;id&quot;:&quot;f2e0d232-4b63-4049-9c0a-b7d3731dad66&quot;,&quot;type&quot;:&quot;VBar&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,8,15,22]},&quot;id&quot;:&quot;ceb1a065-12f3-443f-9f36-c28ca218fcce&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;data_source&quot;:{&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},&quot;glyph&quot;:{&quot;id&quot;:&quot;249c26dd-d5bc-488e-ad8f-004c02da543f&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;hover_glyph&quot;:null,&quot;muted_glyph&quot;:null,&quot;nonselection_glyph&quot;:{&quot;id&quot;:&quot;f2e0d232-4b63-4049-9c0a-b7d3731dad66&quot;,&quot;type&quot;:&quot;VBar&quot;},&quot;selection_glyph&quot;:null,&quot;view&quot;:{&quot;id&quot;:&quot;0ec1f8e3-c594-4878-9354-eaa6b3a542b6&quot;,&quot;type&quot;:&quot;CDSView&quot;}},&quot;id&quot;:&quot;c9d37a83-7092-444f-bcf1-7365162a5f67&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,4,7,10,13,16,19,22,25,28]},&quot;id&quot;:&quot;d4660f63-c828-475d-b514-59465146095c&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;d1f7165a-6f94-412d-9327-28553ec0b0ef&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;0ec1f8e3-c594-4878-9354-eaa6b3a542b6&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;base&quot;:24,&quot;mantissas&quot;:[1,2,4,6,8,12],&quot;max_interval&quot;:43200000.0,&quot;min_interval&quot;:3600000.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;8a71a549-2375-4dcb-a2c8-43bfa03acc37&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]},&quot;id&quot;:&quot;82d5380d-32e1-4f74-896a-4e317c0c3a64&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;base&quot;:60,&quot;mantissas&quot;:[1,2,5,10,15,20,30],&quot;max_interval&quot;:1800000.0,&quot;min_interval&quot;:1000.0,&quot;num_minor_ticks&quot;:0},&quot;id&quot;:&quot;905512c1-bf55-49fe-9e03-b35e3ae8ecbc&quot;,&quot;type&quot;:&quot;AdaptiveTicker&quot;},{&quot;attributes&quot;:{&quot;days&quot;:[1,15]},&quot;id&quot;:&quot;1df8eb88-e496-4921-9179-b2ce0affa4de&quot;,&quot;type&quot;:&quot;DaysTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,1,2,3,4,5,6,7,8,9,10,11]},&quot;id&quot;:&quot;d1dcf424-8a37-482d-94a4-81f6bb51e122&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,2,4,6,8,10]},&quot;id&quot;:&quot;738961a0-e75b-4a9c-b420-cd81adee65c8&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null},&quot;id&quot;:&quot;9255b3eb-2aa2-40ea-bfc8-50553b6efc99&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,4,8]},&quot;id&quot;:&quot;40abf668-b94c-4f96-aad7-e776d1a8d286&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{&quot;months&quot;:[0,6]},&quot;id&quot;:&quot;1459b218-d047-451b-81b8-48edd861e72f&quot;,&quot;type&quot;:&quot;MonthsTicker&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;991192a4-8b39-4c18-bed2-558ea62229f9&quot;,&quot;type&quot;:&quot;YearsTicker&quot;},{&quot;attributes&quot;:{&quot;below&quot;:[{&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;}],&quot;left&quot;:[{&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;}],&quot;plot_width&quot;:1000,&quot;renderers&quot;:[{&quot;id&quot;:&quot;db00ec9f-f0ab-420c-806c-1e1d9deac136&quot;,&quot;type&quot;:&quot;DatetimeAxis&quot;},{&quot;id&quot;:&quot;f989b05b-bf45-43b1-b028-7eb463f6679c&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;85361c1d-7a39-40b0-8fec-ed99aada023f&quot;,&quot;type&quot;:&quot;LinearAxis&quot;},{&quot;id&quot;:&quot;d1576bbc-9901-4492-b0f3-5cac85de464b&quot;,&quot;type&quot;:&quot;Grid&quot;},{&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;},{&quot;id&quot;:&quot;429b14fd-3b2a-4b3e-807b-5240d1423ab5&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;id&quot;:&quot;d451eb06-724c-4824-9913-dd79191508db&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;},{&quot;id&quot;:&quot;c9d37a83-7092-444f-bcf1-7365162a5f67&quot;,&quot;type&quot;:&quot;GlyphRenderer&quot;}],&quot;title&quot;:{&quot;id&quot;:&quot;c1498182-b004-4824-865b-206c8c034713&quot;,&quot;type&quot;:&quot;Title&quot;},&quot;toolbar&quot;:{&quot;id&quot;:&quot;af5b71bf-446f-4fc2-b57c-2fa0fce21914&quot;,&quot;type&quot;:&quot;Toolbar&quot;},&quot;x_range&quot;:{&quot;id&quot;:&quot;9255b3eb-2aa2-40ea-bfc8-50553b6efc99&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;x_scale&quot;:{&quot;id&quot;:&quot;b6c39efa-9aae-4c60-a3da-fd075656b1a4&quot;,&quot;type&quot;:&quot;LinearScale&quot;},&quot;y_range&quot;:{&quot;id&quot;:&quot;43245f5f-8af8-402a-9627-f804c0bbeaa7&quot;,&quot;type&quot;:&quot;DataRange1d&quot;},&quot;y_scale&quot;:{&quot;id&quot;:&quot;fc73f114-54b7-4eb0-9886-8a68b390e7b3&quot;,&quot;type&quot;:&quot;LinearScale&quot;}},&quot;id&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;,&quot;subtype&quot;:&quot;Figure&quot;,&quot;type&quot;:&quot;Plot&quot;},{&quot;attributes&quot;:{&quot;overlay&quot;:{&quot;id&quot;:&quot;4a8b3f54-21f8-4756-b532-cfdc995521ab&quot;,&quot;type&quot;:&quot;BoxAnnotation&quot;}},&quot;id&quot;:&quot;b60f6cf3-64d8-4324-958c-8538b816559f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;attributes&quot;:{&quot;x0&quot;:{&quot;field&quot;:&quot;x0&quot;},&quot;x1&quot;:{&quot;field&quot;:&quot;x1&quot;},&quot;y0&quot;:{&quot;field&quot;:&quot;y0&quot;},&quot;y1&quot;:{&quot;field&quot;:&quot;y1&quot;}},&quot;id&quot;:&quot;e3c27d4a-5c2d-4093-8b72-d4dcf0d76235&quot;,&quot;type&quot;:&quot;Segment&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;50b32177-dfd3-4305-9960-136ae88293ec&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;attributes&quot;:{&quot;callback&quot;:null,&quot;column_names&quot;:[&quot;x0&quot;,&quot;y0&quot;,&quot;x1&quot;,&quot;y1&quot;],&quot;data&quot;:{&quot;x0&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAoTG3a0IAAIBs1rdrQgAAADh7uGtCAACAAyC5a0IAAADPxLlrQgAAgDGzu2tCAAAA/Ve8a0IAAIDI/LxrQgAAAJShvWtCAACAX0a+a0IAAADCNMBrQgAAgI3ZwGtCAAAAWX7Ba0IAAIAkI8JrQgAAAPDHwmtCAACAUrbEa0IAAAAeW8VrQgAAgOn/xWtCAAAAtaTGa0IAAICAScdrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAAAAEcvLa0IAAIBzuc1rQgAAAD9ezmtCAACACgPPa0IAAADWp89rQgAAgKFM0GtCAAAABDvSa0IAAIDP39JrQgAAAJuE02tCAACAZinUa0IAAICUvNZrQgAAAGBh12tCAACAKwbYa0IAAAD3qthrQgAAgMJP2WtCAAAAJT7ba0IAAIDw4ttrQgAAALyH3GtCAACAhyzda0IAAABT0d1rQgAAgLW/32tCAAAAgWTga0IAAIBMCeFrQg==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;x1&quot;:{&quot;__ndarray__&quot;:&quot;AACAp/mza0IAAABznrRrQgAAgD5DtWtCAAAAoTG3a0IAAIBs1rdrQgAAADh7uGtCAACAAyC5a0IAAADPxLlrQgAAgDGzu2tCAAAA/Ve8a0IAAIDI/LxrQgAAAJShvWtCAACAX0a+a0IAAADCNMBrQgAAgI3ZwGtCAAAAWX7Ba0IAAIAkI8JrQgAAAPDHwmtCAACAUrbEa0IAAAAeW8VrQgAAgOn/xWtCAAAAtaTGa0IAAICAScdrQgAAAOM3yWtCAACArtzJa0IAAAB6gcprQgAAgEUmy2tCAAAAEcvLa0IAAIBzuc1rQgAAAD9ezmtCAACACgPPa0IAAADWp89rQgAAgKFM0GtCAAAABDvSa0IAAIDP39JrQgAAAJuE02tCAACAZinUa0IAAICUvNZrQgAAAGBh12tCAACAKwbYa0IAAAD3qthrQgAAgMJP2WtCAAAAJT7ba0IAAIDw4ttrQgAAALyH3GtCAACAhyzda0IAAABT0d1rQgAAgLW/32tCAAAAgWTga0IAAIBMCeFrQg==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;y0&quot;:{&quot;__ndarray__&quot;:&quot;9ihcj8KFV0BI4XoUrtdXQEjhehSut1hASOF6FK5XWEAAAAAAAGBYQFyPwvUoDFhAAAAAAAAAWUAAAAAAAKBZQAAAAAAAEFlAAAAAAADQWEBI4XoUridYQFyPwvUoLFhAAAAAAADgWEAAAAAAAPBYQEjhehSux1lASOF6FK5nWkBI4XoUrjdcQAAAAAAAwFxAAAAAAAAQW0Bcj8L1KNxaQFyPwvUoPFtASOF6FK4nW0AAAAAAABBbQAAAAAAAIFhAAAAAAAAAV0AAAAAAACBWQAAAAAAAAFZASOF6FK5XVkBI4XoUridWQKRwPQrXg1VAAAAAAACQVEAAAAAAAJBUQAAAAAAA4FNAAAAAAAAAU0Bcj8L1KHxUQAAAAAAAYFRASOF6FK73U0AAAAAAAABRQAAAAAAAYFFASOF6FK7HUUBcj8L1KHxRQAAAAAAAwFFAAAAAAACAUkAAAAAAAGBSQKRwPQrXs1FAAAAAAADQUUCkcD0K1/NRQEjhehSu11FAXI/C9SicUUBI4XoUrvdQQA==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]},&quot;y1&quot;:{&quot;__ndarray__&quot;:&quot;XI/C9Sg8VkBI4XoUrsdWQEjhehSud1dASOF6FK6HVkBcj8L1KPxWQAAAAAAAwFZAAAAAAADAV0AAAAAAAOBYQAAAAAAAYFhASOF6FK7HV0Bcj8L1KGxXQAAAAAAAUFdAAAAAAACgV0AAAAAAACBYQAAAAAAAIFhASOF6FK5HWUBI4XoUrqdaQKRwPQrXY1tAXI/C9Sj8WUBI4XoUrpdZQEjhehSuR1pAAAAAAACgWUBI4XoUrgdaQAAAAAAAgFZAXI/C9Sg8VUBI4XoUrndVQOF6FK5HUVVAAAAAAABAVUAAAAAAAIBVQAAAAAAA4FRAAAAAAACwU0AAAAAAAMBTQAAAAAAAUFJAAAAAAABAUkBI4XoUrvdSQEjhehSuh1NAAAAAAABgU0AAAAAAAEBQQEjhehSu51BASOF6FK7XUEBI4XoUrtdQQAAAAAAAEFFAXI/C9SjsUUAAAAAAAGBRQKRwPQrXM1FApHA9CtdTUUBI4XoUrndRQFyPwvUobFFAAAAAAADgUEAAAAAAAHBQQA==&quot;,&quot;dtype&quot;:&quot;float64&quot;,&quot;shape&quot;:[50]}}},&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;},{&quot;attributes&quot;:{&quot;source&quot;:{&quot;id&quot;:&quot;44dd930f-dc6f-4a64-9b3f-02503d3547ee&quot;,&quot;type&quot;:&quot;ColumnDataSource&quot;}},&quot;id&quot;:&quot;6a41005e-8c64-4f5d-9f96-9c18eccf4dbb&quot;,&quot;type&quot;:&quot;CDSView&quot;},{&quot;attributes&quot;:{&quot;plot&quot;:null,&quot;text&quot;:&quot;MSFT Candlestick&quot;},&quot;id&quot;:&quot;c1498182-b004-4824-865b-206c8c034713&quot;,&quot;type&quot;:&quot;Title&quot;},{&quot;attributes&quot;:{},&quot;id&quot;:&quot;fb0d93f1-42a7-4f19-8e44-923a6fce964e&quot;,&quot;type&quot;:&quot;SaveTool&quot;},{&quot;attributes&quot;:{&quot;active_drag&quot;:&quot;auto&quot;,&quot;active_inspect&quot;:&quot;auto&quot;,&quot;active_scroll&quot;:&quot;auto&quot;,&quot;active_tap&quot;:&quot;auto&quot;,&quot;tools&quot;:[{&quot;id&quot;:&quot;fc2d0606-c30a-4acf-899b-67c827096a3e&quot;,&quot;type&quot;:&quot;PanTool&quot;},{&quot;id&quot;:&quot;2661949c-bdc3-4368-bcb3-6e4e33261b91&quot;,&quot;type&quot;:&quot;WheelZoomTool&quot;},{&quot;id&quot;:&quot;b60f6cf3-64d8-4324-958c-8538b816559f&quot;,&quot;type&quot;:&quot;BoxZoomTool&quot;},{&quot;id&quot;:&quot;50b32177-dfd3-4305-9960-136ae88293ec&quot;,&quot;type&quot;:&quot;ResetTool&quot;},{&quot;id&quot;:&quot;fb0d93f1-42a7-4f19-8e44-923a6fce964e&quot;,&quot;type&quot;:&quot;SaveTool&quot;}]},&quot;id&quot;:&quot;af5b71bf-446f-4fc2-b57c-2fa0fce21914&quot;,&quot;type&quot;:&quot;Toolbar&quot;}],&quot;root_ids&quot;:[&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;]},&quot;title&quot;:&quot;Bokeh Application&quot;,&quot;version&quot;:&quot;0.12.13&quot;}}
        &lt;/script&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {

                  var docs_json = document.getElementById(&#39;84275238-4287-4d1a-9541-fbc55978ba86&#39;).textContent;
                  var render_items = [{&quot;docid&quot;:&quot;da825016-f931-4212-8be9-c32e19959f39&quot;,&quot;elementid&quot;:&quot;ec6d21c4-c7d6-4a08-bcd9-24d606c4f710&quot;,&quot;modelid&quot;:&quot;3ec9fed0-e8ba-4bf3-bca1-76e83045c1b3&quot;}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);

                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        embed_document(root);
                        clearInterval(timer);
                      }
                      attempts++;
                      if (attempts &gt; 100) {
                        console.log(&quot;Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing&quot;)
                        clearInterval(timer);
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != &quot;loading&quot;) fn();
            else document.addEventListener(&quot;DOMContentLoaded&quot;, fn);
          })();
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</description>
        <pubDate>Fri, 29 Jun 2018 00:00:00 +0300</pubDate>
        <link>http://NTLresearch.github.io/Charting</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/Charting</guid>
        
        
      </item>
    
      <item>
        <title>Design Pattern 1: The observer pattern (phần 1)</title>
        <description>&lt;p&gt;Ở series bài viết này, tôi sẽ code và phân tích các design pattern (hay còn gọi là mẫu thiết kế lập trình) được thiết kế và tối ưu hóa trong quá trình lập trình OOP (hướng đối tượng). Ngôn ngữ được sử dụng sẽ là Java và Python. Trong một số trường hợp tôi sẽ dùng C++. Thêm vào đó, tôi sẽ phân tích các design pattern được sử dụng trong các framework ứng dụng vào ngành tài chính.&lt;/p&gt;

&lt;p&gt;Bài viết này sẽ nghiên cứu ứng dụng của 1 design pattern rất phổ biến, đó là observer pattern.&lt;/p&gt;

&lt;h3 id=&quot;observer-pattern-l-g&quot;&gt;1. Observer Pattern là gì&lt;/h3&gt;
&lt;p&gt;Về mặt trừu tượng, observer pattern khá giống với việc subscription. Đơn giản thế này, tôi có thông tin liên lạc của 1 analyst, bản tin của anh này rất hữu ích cho tôi. Để nhận bản tin hằng ngày, anh ta cần đưa tôi vào danh sách gửi email 3 tiếng trước mỗi phiên giao dịch. Báo cáo của anh ta bao gồm 1 số thông tin như sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;giá trị kì vọng trong phiên&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;khối lượng kì vọng trong phiên&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;khuyến nghị: mua hoặc bán&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ở khía cạnh lập trình, có thể hiểu ở danh sách khách hàng của analyst  là 1 subject object (đối tượng chủ thể) và địa chỉ của khách hàng là 1 observer object (đối tượng quan sát). Analyst sẽ update bản tin hằng ngày, và thông tin được update sẽ chuyển tới danh sách khách hàng. Sau khi cập nhật, các khách hàng đã đăng kí sẽ nhận được bản tin.&lt;/p&gt;

&lt;p&gt;Giả sử có 3 trader đồng ý nhận bản tin và cung cấp . Cấu trúc của hệ thống tương tự như sơ đồ bên dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Prgm/dp1.png&quot; alt=&quot;c1&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;observer-pattern-trong-java&quot;&gt;2. Observer Pattern trong Java&lt;/h3&gt;

&lt;p&gt;Trong java, Observer Pattern sẽ được thực hiện bằng cách viết class sử dụng 2 interface Subject và Observers như đoạn code bên dưới:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// Interface cho Subject&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Subject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;registerObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;removeObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;notifyObservers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Interface cho Observer, tham so co the thay doi&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DisplayElement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tôi viết interface DisplayElement nhằm mục đích print ngoài màn hình. Mỗi 1 class implements DisplayElement phải override phương thức display.&lt;/p&gt;

&lt;h3 id=&quot;a-observer-pattern-cho-analyst-v-trader&quot;&gt;a. Observer Pattern cho analyst và trader:&lt;/h3&gt;

&lt;p&gt;Ở phần này tôi sẽ viết 2 class Info (sử dụng Subject interface) và class receiveInfo (sử dụng Observer interface). 3 thông tin quan trọng mà analyst cần cập nhật cho trader lần lượt là:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Giá trị kì vọng trong phiên: thuộc tính index dạng float (ví dụ 1250)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Khối lượng kì vọng trong phiên: thuộc tính volume dạng int (ví dụ 1200)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Khuyến nghị: thuộc tính recommend dạng int (1 là mua 0 là bán)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Class Info sẽ được viết như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;// class Info (Subject)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;java.util.ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Info&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Subject&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// arrayList de giu cac observer object&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ArrayList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// dang ky observer object vao arrayList&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;registerObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// huy dang ky observer object trong arrayList theo index&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;removeObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;remove&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// update thong tin vao cac observer chua trong arrayList&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;notifyObservers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;observer:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;observers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// method update duoc overide o class observer&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;observer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;//wrappers cho notifyObservers()&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;InfoChanged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;notifyObservers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// thay doi thong tin va cap nhat voi object&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;recommend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;InfoChanged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getVolume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getRecommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Phân tích đoạn code trên, có thể thấy mỗi khi khởi tạo 1 object Info, constructor của class sẽ khởi tạo 1 ArrayList (cấu trúc dữ liệu trong java) để lưu lại các observer. Sau đó mỗi lần cần update các thuộc tính (thông tin về index, volume và recommend) thông qua phương thức setInfo, các observer trong ArrayList sẽ được update thông tin tương ứng.&lt;/p&gt;

&lt;p&gt;Class ReceiveInfo được viết như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ReceiveInfo&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DisplayElement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Observer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Subject&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ReceiveInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Subject&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;registerObserver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;float&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;recommend&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Expeted Index: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot; and Expected Volume: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;recommend&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Expected BUY&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Expected SELL&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ở đoạn code trên, có thể thấy khi khởi tạo 1 object thuộc class ReceiveInfo, cần phải truyền vào 1 tham số là 1 object thuộc class Subject. Mỗi khi khởi tạo, object thuộc class ReceiveInfo sẽ tự động được lưu vào arrayList của object class Subject. Tôi cung cấp thêm phương thức display để in ra màn hình thông tin cập nhật .&lt;/p&gt;

&lt;p&gt;Chương trình Main của Java sẽ được viết như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TradingDesk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;ReceiveInfo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ReceiveInfo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ReceiveInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;


    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sau khi chạy chương trình tôi được output như sau&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;nl&quot;&gt;run:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expeted&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Index:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1000.0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Volume:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BUY&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expeted&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Index:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1100.0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Volume:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SELL&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expeted&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Index:&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1200.0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;Volume:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20000&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Expected&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BUY&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;BUILD&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;SUCCESSFUL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;time:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;nhng-iu-cn-lu--v-observer-pattern&quot;&gt;&lt;strong&gt;3. Những điều cần lưu ý về Observer pattern&lt;/strong&gt;&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Đầu tiền là sử dụng interface cho Subject và Observer với các phương thức cần được override&lt;/li&gt;
  &lt;li&gt;Thứ 2, nếu để ý kỹ, khi khởi tạo object của class ReceiveInfo, cần truyền vào 1 tham số là object của class Subject. Tức là mỗi khi 1 class implement interface Subject sẽ luôn có thể truyền vào hàm constructor (Đây là đặc tính rõ nhất về tính đa hình - polymorphism trong java). Trong chương trình main, tôi truyền vào object của class Info (class implement interface Subject)&lt;/li&gt;
  &lt;li&gt;Thứ 3, arrayList sử dụng reference, tức là các object Observer sẽ update ở môi trường global environment hơn là local (check pass by reference và pass by copy of value trong java).&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ng-dng-ca-observer-pattern&quot;&gt;&lt;strong&gt;4. Ứng dụng của Observer pattern&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Có lẽ Observer pattern là một trong những Design pattern phổ biến nhất trong giới lập trình. Ví dụ điển hình nhất notification của post trên Facebook. Mỗi khi người dùng comment vào 1 post, người dùng mặc định đăng kí nhận thông báo mỗi khi có ai phản hồi hoặc comment trong post đó. Ở đây post là subject, hộp notification của người dùng là observer.&lt;/p&gt;
</description>
        <pubDate>Thu, 21 Jun 2018 12:00:00 +0000</pubDate>
        <link>http://NTLresearch.github.io/designpatterns/theobserverpattern</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/designpatterns/theobserverpattern</guid>
        
        <category>Programming</category>
        
        <category>DesignPatterns</category>
        
        
        <category>designpatterns</category>
        
      </item>
    
      <item>
        <title>Welcome to Jekyll!</title>
        <description>&lt;p&gt;asdasd
asdasd
asdasd
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Tom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &#39;Hi, Tom&#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You’ll find this post in your &lt;code&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;__future__&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;absolute_import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;division&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;print_function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;unicode_literals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datetime&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# For datetime objects&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;os.path&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# To manage paths&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# To find out the script name (in argv[0])&lt;/span&gt;


&lt;span class=&quot;c&quot;&gt;# Import the backtrader platform&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;backtrader&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;


&lt;span class=&quot;c&quot;&gt;# Create a Stratey&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestStrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Strategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;maperiod&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;printlog&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doprint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&#39;&#39;&#39; Logging function fot this strategy&#39;&#39;&#39;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;printlog&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doprint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;s&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isoformat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Keep a reference to the &quot;close&quot; line in the data[0] dataseries&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# To keep track of pending orders and buy price/commission&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buyprice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buycomm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Add a MovingAverageSimple indicator&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sma&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;indicators&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SimpleMovingAverage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;period&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maperiod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;notify_order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Submitted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Accepted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;# Buy/Sell order submitted/accepted to/by broker - Nothing to do&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Check if an order has been completed&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Attention: broker could reject order if not enough cash&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Completed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isbuy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;s&quot;&gt;&#39;BUY EXECUTED, Price: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f, Cost: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f, Comm &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buyprice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buycomm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# Sell&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;SELL EXECUTED, Price: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f, Cost: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f, Comm &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
                         &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bar_executed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Canceled&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Margin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Rejected&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;Order Canceled/Margin/Rejected&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Write down: no pending order&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;notify_trade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trade&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isclosed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;

        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;OPERATION PROFIT, GROSS &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f, NET &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trade&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pnl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trade&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pnlcomm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Simply log the closing price of the series from the reference&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;Close, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Check if an order is pending ... if yes, we cannot send a 2nd one&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;# Check if we are in the market&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;# Not yet ... we MIGHT BUY if ...&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sma&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;

                &lt;span class=&quot;c&quot;&gt;# BUY, BUY, BUY!!! (with all possible default parameters)&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;BUY CREATE, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

                &lt;span class=&quot;c&quot;&gt;# Keep track of the created order to avoid a 2nd order&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sma&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]:&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;# SELL, SELL, SELL!!! (with all possible default parameters)&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;SELL CREATE, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataclose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

                &lt;span class=&quot;c&quot;&gt;# Keep track of the created order to avoid a 2nd order&lt;/span&gt;
                &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;(MA Period &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;d) Ending Value &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;%.2&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;f&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
                 &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maperiod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getvalue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doprint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;__main__&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# Create a cerebro entity&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Cerebro&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Add a strategy&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;strats&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;optstrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;TestStrategy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;maperiod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Datas are in a subfolder of the samples. Need to find where the script is&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# because it could have been called from anywhere&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;modpath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abspath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;datapath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;modpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;../../datas/orcl-1995-2014.txt&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Create a Data Feed&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;feeds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;YahooFinanceCSVData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;dataname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datapath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Do not pass values before this date&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;fromdate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Do not pass values before this date&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;todate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;# Do not pass values after this date&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;reverse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Add the Data Feed to Cerebro&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;adddata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Set our desired cash start&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setcash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1000.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Add a FixedSize sizer according to the stake&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addsizer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sizers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FixedSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stake&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Set the commission&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;broker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setcommission&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commission&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# Run over everything&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cerebro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is the base Jekyll theme. You can find out more info about customizing your Jekyll theme, as well as basic Jekyll usage documentation at &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;jekyllrb.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can find the source code for the Jekyll new theme at: &lt;a href=&quot;https://github.com/jglovier/jekyll-new&quot;&gt;github.com/jglovier/jekyll-new&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can find the source code for Jekyll at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;github.com/jekyll/jekyll&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 19 Jun 2018 08:55:59 +0000</pubDate>
        <link>http://NTLresearch.github.io/toan/tai/chinh/welcome-to-jekyll10</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/toan/tai/chinh/welcome-to-jekyll10</guid>
        
        
        <category>toan</category>
        
        <category>tai</category>
        
        <category>chinh</category>
        
      </item>
    
      <item>
        <title>Phân tích cổ phiếu giá trị</title>
        <description>&lt;p&gt;Chiến lược Value Investing&lt;/p&gt;

&lt;p&gt;This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see &lt;a href=&quot;http://rmarkdown.rstudio.com&quot;&gt;http://rmarkdown.rstudio.com&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When you click the &lt;strong&gt;Knit&lt;/strong&gt; button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;{r cars}
summary(cars)
&lt;/code&gt;
You can also embed plots, for example:&lt;/p&gt;

&lt;p&gt;&lt;code&gt;{r pressure, echo=FALSE}
plot(pressure)
&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Note that the &lt;code&gt;echo = FALSE&lt;/code&gt; parameter was added to the code chunk to prevent printing of the R code that generated the plot.&lt;/p&gt;
</description>
        <pubDate>Thu, 07 Jun 2018 12:08:58 +0000</pubDate>
        <link>http://NTLresearch.github.io/mf/thanh</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/mf/thanh</guid>
        
        <category>MF</category>
        
        
        <category>mf</category>
        
      </item>
    
      <item>
        <title>Hedging bằng hợp đồng tương lai VN30 (phần 1)</title>
        <description>&lt;p&gt;Mục đích ban đầu của công cụ phái sinh là giúp nhà đầu tư giảm thiểu được rủi ro khi thị trường vận động không đúng theo kì vọng. Năm 2017, thị trường Việt Nam chứng kiến sự ra đời của công cụ phái sinh đầu tiên - hợp đồng tương lai. Series bài viết này phân tích ngắn gọn đặc điểm chung của hợp đồng tương lai, cũng như cách để hedge 1 danh mục bao gồm 1 cổ phiếu hoặc 1 danh mục đầu tư cổ phiếu, sử dụng hợp đồng tương lai với tài sản cơ sở là chỉ số VN30.&lt;/p&gt;

&lt;h1 id=&quot;khi-nim-hedging&quot;&gt;1. Khái niệm Hedging.&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;Đầu tiên chúng ta đề cập tới khái niệm hedging (tiếng việt dịch ra là nghiệp vụ đảm bảo). Lấy ví dụ đơn giản thế này, tôi là chủ quán phở bò, &lt;strong&gt;hôm qua tôi nghe phóng viên Sỹ Khỏe trên VTV1 chuyên mục “bạn nhà nông” nói, số lượng bò tiêu thụ tăng lên đột biến trong khi nguồn cung đang bị thiếu hụt ở nửa cuối năm 2018. Vậy chắc chắn giá thịt bò sẽ tăng lên tương ứng (giả sử có duy nhất 1 loại thịt bò trên thị trường và có hạn mức nhập khẩu bò từ nước ngoài).&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/MF/pic1.jpg&quot; alt=&quot;Beef&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Chiến lược kinh doanh của cửa hàng phở của tôi tập trung vào giá, đó là đưa ra 1 mức giá hợp lý, phù hợp với đa số người dân lao động trong khu vực. &lt;strong&gt;Cấu trúc chi phí có đến 50% tới từ thịt bò. Vậy giả sử 1 bát phở có giá 30,000 VND, vậy cứ mỗi kg thịt bò tăng lên từ 200,000 VND lên 280,000 VND tức là 40%, tôi phải tăng chi phí của 1 bát phở lên 1 lượng tương đương 6,000 VND. Giả sử tôi muốn giữ nguyên biên lợi nhuận của mình, vậy 6,000 VND tăng lên kia sẽ được cộng toàn bộ vào giá mà khách hàng phải trả cho 1 bát phở. Lúc này giá sẽ tương đương 36,000 VND.&lt;/strong&gt; Thêm nữa, vì thịt bò phải nhập tươi 8 tiếng trước khi chế biến và sẵn sàng cho giờ mở cửa vào lúc 6h sáng, tức là tôi không thể mua trước thịt bò vào ngăn đá như 1 dạng hàng tồn kho. 1 điều quan trọng hơn nữa là tôi sẽ không biết giá thịt bò liệu sẽ tăng tới mức bao nhiêu, tốc độ tăng sẽ nhanh hay chậm, &lt;strong&gt;liệu 1 tháng nữa thịt bò có tăng lên mức 350,000 VND hay chỉ tăng lên 240,000 VND 1 kg?&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/MF/pic2.png&quot; alt=&quot;Beef&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Điều quan trọng nhất ở đây là tôi không hề biết giá mà mình sẽ phải trả cho người buôn thịt bò vào mỗi ngày trước khi mở cửa hàng. Hơn nữa, viêc điều chỉnh giá bán phở cho khách hàng rất cứng nhắc, &lt;strong&gt;việc tăng giá hay giảm giá không hợp lý sẽ khiến khách hàng bỏ đi ngay lập tức&lt;/strong&gt; bởi chiến lược kinh doanh của cửa hàng là tập trung vào phân khúc khách hàng bình dân.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Vậy làm thế nào để hạn chế việc biến động của giá đầu vào? Đầu tiên tôi gọi cho nhà phân phối thịt bò, thỏa thuận với họ, tôi vẫn sẽ tiếp tục mua thịt bò, nhưng lúc này giá thịt bò sẽ không được thương lượng vào mỗi buổi sáng nữa mà sẽ được thỏa thuận trong chu kì 1 tháng. Vào mỗi ngày đầu tiên của tháng, người bán thịt bò sẽ đưa ra mức giá mà tôi phải trả trong toàn bộ tháng tiếp theo. &lt;strong&gt;Giả sử lúc này là đầu tháng 10, tôi sẽ thỏa thuận giá cho toàn bộ tháng 11, bắt đầu từ ngày mùng 1/11 tới ngày 30/11. Vậy điều gì tạo nên sự khác biệt? Lúc này, tôi biết chắc chắn mức giá mình phải trả mỗi buổi sáng là bao nhiêu, và có 1 kế hoạch cụ thể cho tháng đó.&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Vậy Hedging ở đây được hiểu là gì? Chúng ta có thể hiểu đó là thỏa thuận 1 mức giá cố định cho 1 loại hàng hóa nào đó, được giao dịch trong tương lai, ở thời điểm hiện tại.&lt;/strong&gt; Dù mức giá ngoài thị trường có biến động như thế nào thì tôi vẫn có thể mua 1 mặt hàng với giá được xác định trước. Vậy câu hỏi đặt lúc này là việc thỏa thuận với nhà phân phối thịt bò kia sẽ đem đến lợi ích và những bất lợi cụ thể gì?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;hedging-li-ch-v-bt-li&quot;&gt;2. Hedging, lợi ích và bất lợi&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Kịch bản thứ 1, trong suốt tháng 11, giá thịt bò trong tháng tăng lên rất nhanh, dao động quanh ngưỡng 400,000 VND 1 kg. Giá mà tôi thỏa thuận với nhà buôn thịt bò chỉ là 280,000 VND 1kg. Vậy đương nhiên chỉ phí đầu vào của 1 bát phở của tôi đương nhiên sẽ thấp hơn đối thủ cạnh tranh.&lt;/strong&gt; Nếu điều chỉnh giá bán hợp lý thì biên lợi nhuận vẫn có thể được duy trì, khách hàng sẽ vẫn trung thành với cửa hàng. Vậy việc hedging lúc này đương nhiên đem lại lợi ích.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Kịch bản thứ 2, trong suốt tháng 11, giá thịt bò bỗng nhiên suy giảm mạnh mẽ, chỉ ở mức 150,000 VND 1 kg. Lúc này, thay vì mua của nhà buôn thịt bò kia, giá tôi có thể mua ngoài thị trường thấp hơn nhiều. Lúc này chi phí đầu vào cao hơn hẳn thị trường, tuy nhiên giá bán cho khách hàng không thể tăng tương ứng&lt;/strong&gt;. Kết quả là việc hedging làm cho biên lợi nhuận suy giảm rõ rệt và ảnh hưởng đến hoạt động kinh doanh.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;khi-no-th-s-dng-hedging-bng-hp-ng-tng-lai&quot;&gt;3. Khi nào thì sử dụng hedging bằng hợp đồng tương lai&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Vậy lúc nào thì nên thực hiện hedging? Tôi chỉ nên thực hiện hedging khi tôi chắc chắn biết rằng giá thịt bò sẽ tăng mạnh trong thời gian tới.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ nhất, khi giá thịt bò tăng, mọi cửa hàng phở đều có chi phí đầu vào tăng, vậy giá bán cho người tiêu dùng chắc chắn tăng lên tương ứng. Tuy nhiên mức giá mà cửa hàng đưa ra sẽ khác nhau do cơ cấu chi phí khác nhau và chiến lược kinh doanh khác nhau. Vậy có thực sự cần thiết thực hiện hedging nếu ảnh hưởng của việc tăng giá thịt bò đến cấu trúc chi phí và giá bán là không đáng kể?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Thứ hai, hedging không đồng nghĩ với việc chắc chắn có lợi nhuận. Hedging nên được hiểu như việc cố định giá để mua 1 mặt hàng trong tương lai. Nếu giá tăng nhiều hơn mức giá thỏa thuận trước, người bán thịt bò hưởng lợi. Nếu giá giảm nhiều hơn mức giá thỏa thuận trước, người bán thịt bò thua thiệt.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/images/MF/pic3.jpg&quot; alt=&quot;Beef&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;long-hedge-v-short-hedge-vi-hp-ng-tng-lai&quot;&gt;4. Long hedge và Short hedge với hợp đồng tương lai&lt;/h1&gt;

&lt;h2 id=&quot;long-hedge&quot;&gt;Long hedge&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Ví dụ đề cập ở trên được phân loại là long hedge. Long hedge được sử dụng khi chủ thể cần phải mua phải mua một loại tài sản hay hàng hóa trong tương lai. Ở đây là chủ cửa hàng phở muốn mua thịt bò trong tương lai. Tương tự, 1 công ty sản xuất ô tô sẽ cần mua sắt thép, da, bông, cao su … làm nguyên liệu, họ sẽ cần long hedge cho các nguyên liệu cơ bản đầu vào. Hoặc các chuỗi bán lẻ cafe như Starbucks sẽ cần mua cafe, đường, các nguyên liệu và hương liệu phục vụ cho sản xuất đồ uống. Tương tự họ cũng cần biết chính xác giá mà họ sẽ phải trả cho các chi phí đầu vào khi lên kế hoạch kinh doanh và thiết lập hệ thống quản lý rủi ro khi cần thiết.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;short-hedge&quot;&gt;Short hedge&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Short hedge được sử dụng khi chủ thể đã sở hữu một tài sản và muốn bán nó trong tương lai. Chúng ta thường thấy người nông dân khai thác nông sản như vải, dưa hấu, nhãn … sau khi thu hoạch sẽ muốn biết rõ mức giá mà họ có thể bán ra thị trường. Việc biết trước được mức giá họ có thể bán sẽ giúp họ tính toán được mức lợi nhuận và kế hoạch cho mùa tiếp theo. Ngay cả trong trường hợp thị trường dư thừa nguồn cung, họ cũng cần xác định mức giá họ có thể bán để bù đắp cho chi phí lỗ họ phải hứng chịu.&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 06 Jun 2018 18:08:08 +0000</pubDate>
        <link>http://NTLresearch.github.io/mf/HedgingFutures1</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/mf/HedgingFutures1</guid>
        
        <category>MF</category>
        
        
        <category>mf</category>
        
      </item>
    
      <item>
        <title>Risk contribution và danh mục đầu tư</title>
        <description>&lt;p&gt;&lt;em&gt;Bài viết dựa trên lý thuyết Risk Parity.&lt;/em&gt;
Giả sử 1 danh mục đầu tư có 2 tài sản, 1 là cổ phiếu và 2 là trái phiếu. Thường thấy chúng ta sẽ đầu tư theo tỉ lệ vàng, phân bổ 60% nguồn vồn vào cổ phiếu và 40% nguồn vốn vào trái phiếu.&lt;/p&gt;

&lt;p&gt;Dữ liệu phân tích chỉ ra rằng, volatility của stock (cổ phiếu) tính bằng standard deviation (độ lệch chuẩn) là 15% và của bond (trái phiếu) là 5%. Correlation hay còn gọi là hệ số tương quan của cổ phiếu và trái phiếu là 0.2.&lt;/p&gt;

&lt;p&gt;Theo công thức tính volatility của cả portfolio, chúng ta có:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sigma_p = \displaystyle\sqrt{(\sigma_s^2 w_s^2 + \sigma_b^2 w_b^2 + 2 w_b w_s \sigma_s \sigma_b \rho_{sb}})&lt;/script&gt;

&lt;p&gt;Áp dụng công thức trên vào số liệu chúng ta ước lượng, volatility của portfolio tương đương 9.6% dựa vào standard deviation. Cần nhớ chúng ta có công thức liên hệ giữa standard deviation và variance (độ lệch chuẩn và phương sai) như sau:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;var(p) = \sigma_p^2&lt;/script&gt;

&lt;p&gt;Thay vì dùng volatility dựa trên standard deviation thuần túy, chúng ta có thể xác định mức độ đóng góp rủi ro của mỗi tài sản vào danh mục chung bằng variance. Cụ thể ở đây, có thể xác định được variance của stock tương đương:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sigma_s^2 w_s^2 + \rho_{sb} w_s w_b \sigma_s \sigma_b&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;0.6^2\times0.15^2 + 0.2 \times0.6\times0.4\times0.15\times0.05 = 0.00846&lt;/script&gt;

&lt;p&gt;và variance của bond tương đương:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sigma_b^2 w_b^2 + \rho_{sb} w_s w_b \sigma_s \sigma_b&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;0.4^2\times0.05^2 + 0.2\times0.6\times0.4\times0.15\times0.05 = 0.00076&lt;/script&gt;

&lt;p&gt;Chúng ta có variance của portfolio tương đương 0.009216. Vậy mức độ rủi ro đóng góp vào danh mục chung của stock và bond lần lượt là :&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{0.00846}{0.009216} = 0.92 = 92 \%&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{0.00076}{0.009216} = 0.08 = 8 \%&lt;/script&gt;

&lt;p&gt;Vậy với 1 danh mục đầu tư thuần túy với 60% cổ phiếu và 40% trái phiếu, rủi ro của danh mục chủ yếu đến từ rủi ro của cổ phiếu hơn là trái phiếu.&lt;/p&gt;

&lt;p&gt;Việc sử dụng thuật ngữ “balanced-portfolio” với 60% cổ phiếu và 40% trái phiếu không thực sự phản ánh thực tế rằng, 60% phân bổ cổ phiếu đóng góp tới 92% rủi ro.&lt;/p&gt;

&lt;p&gt;Điều nhiều nhà đầu tư vẫn tin đó là 1 danh mục 60% cổ phiếu và 40% trái  sẽ có 60% rủi ro đóng góp bởi cổ phiếu và 40% đóng góp bởi trái phiếu. Vậy hiệu quả và rủi ro của danh mục đầu tư cần được đánh giá kĩ càng hơn.&lt;/p&gt;
</description>
        <pubDate>Fri, 14 Oct 2016 12:00:00 +0000</pubDate>
        <link>http://NTLresearch.github.io/misc/RiskContributionAndPortfolio</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/misc/RiskContributionAndPortfolio</guid>
        
        <category>prg</category>
        
        <category>pm</category>
        
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>Amibroker: Trend Following System trong Amibroker (1)</title>
        <description>&lt;p&gt;&lt;em&gt;HỆ THỐNG GIAO DỊCH DỰA THEO XU HƯỚNG (TREND FOLLOWING SYSTEM) ĐƯỢC DỰA TRÊN GIẢ THIẾT RẰNG GIÁ THƯỜNG VẬN ĐỘNG THEO 1 XU HƯỚNG NHẤT ĐỊNH ĐỦ LÂU ĐỂ TRADER CÓ THỂ NHẬN RA KHI NÀO XU HƯỚNG BẮT ĐẦU, ĐẶT LỆNH VÀ KIẾM LỢI NHUẬN TỪ VIỆC ĐI THEO XU HƯỚNG. 2 CHIẾN LƯỢC CỔ ĐIỂN NỔI BẬT NHẤT TRONG HỆ THỐNG GIAO DỊCH THEO XU HƯỚNG LÀ MOVING AVERAGE CROSSOVER VÀ BREAKOUT.&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&quot;moving-average-crossover-systems-macs&quot;&gt;1. MOVING AVERAGE CROSSOVER SYSTEMS (MACS).&lt;/h1&gt;
&lt;p&gt;Hệ thống MACS đặt lệnh mua khi đường MA nhanh cắt đường MA chậm từ dưới lên trên. Giả sử khi đường MA(15) cắt lên trên đường MA(30), chúng ta có tín hiệu mua.&lt;/p&gt;

&lt;p&gt;Dưới đây là ví dụ cổ điển được trình bày trong cuốn “Quantitative Trading Systems” của tác giả Howard B.Bandy. Đoạn code được viết bằng ngôn ngữ AFL của Amibroker và được backtest, optimize bằng bộ công cụ automatic analysis.&lt;/p&gt;

&lt;p&gt;Tôi sẽ không đề cập cụ thể chức năng và cách sử dụng của các hàm (function) trong thư viện AFL vì lý do bản quyền.&lt;/p&gt;

&lt;p&gt;Bước đầu tiên, bạn vào Analysis -&amp;gt; Formula Editor rồi gõ đoạn code sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;n&quot;&gt;Length1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Length1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Length2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Length2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Length1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Length2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cross&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Sell&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cross&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Equity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Maxe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LastValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Highest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Price&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorBlack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleCandle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MA1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorGreen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MA2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorBlue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapeUpArrow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapeDownArrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;PlotShapes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IIf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorGreen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorRed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Low&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;High&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Save đoạn code phía trên lại thành file MACrossSystem.afl vào trong 1 folder nào để sau đó có thể mở lại trong phần Automatic Analysis.&lt;/p&gt;

&lt;p&gt;Ở 2 dòng đầu tiên, tác giả dùng hàm Param để tạo ra tham số cho 2 đường MA, cụ thể là độ nhanh hay chậm. Length1 dùng làm tham số cho đường MA nhanh, với minimum =6, maximum = 81 với bước nhảy (step) = 1 và Length2 dùng làm tham số cho đường MA chậm với minimum = 35, bước nhảy (step) = 2 và maxium =200.
2 dòng tiếp theo tạo ra 2 đường MA1 (Nhanh) và MA2 (chậm) dựa trên tham số của 2 dòng trước đó.
Ở dòng 5 và 6, tác giả tạo ra tín hiệu mua hay bán bằng hàm cross.
Các đoạn code tiếp theo dùng để hiển thị tín hiệu mua bán trên đồ thị giá khi thực hiện backtest.&lt;/p&gt;

&lt;p&gt;Sau khi thực hiện xong đoạn code, tác giả tạo ra một indicator trong menu chart ở bên tay trái. Cụ thể trong hình bên dưới, tôi đặt tên chỉ báo là MACrossSystem.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami1.png&quot; alt=&quot;folder&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó tôi load dữ liệu 1 mã cổ phiếu bất kì trong hệ thống để Backtest P&amp;amp;L. Mã ở đây tôi chọn là VIC (Vingroup). Tôi có đồ thị như phía dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami2.png&quot; alt=&quot;chart1&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Mũi tên xanh lá cây thể hiện tín hiệu mua và mũi tên đỏ thể hiện tín hiệu bán. bằng trực quan, có thể thấy nếu xu hướng giá rõ ràng, tín hiệu mua cho ra kết quả tốt, tuy nhiên tín hiệu bán với đường MA(35)  không hề tốt, luôn cho ra tín hiệu bán khi giá đã điều chỉnh tương đối sâu. Khi viết đoạn code trên, tác giả đã sử dụng hàm Param để điều chỉnh độ nhanh chậm của đường MA trực tiếp trên chart. Vì vậy, bạn chỉ cần right-click vào chart, chọn parameters, rồi điều chỉnh lại đường MA theo ý muốn. Giả sử tôi chọn MA nhanh là 6 và MA chậm là 12, tôi có kết quả như sau:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami3.png&quot; alt=&quot;chart2&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Rõ ràng khi điều chỉnh độ lớn của MA chậm bằng 12, tín hiệu bán trở nên rõ nét hơn, bắt kịp với xu hướng điều chỉnh của đường cong giá. Tuy nhiên khi để MA12, tín hiệu nhiễu trở nên nhiều hơn, đặc biệt khi giá giao động trong biên độ nhỏ, xu hướng không rõ ràng, tín hiệu mua bán cho ra liên tục tăng phí giao dịch và turnover của tài khoản. Hơn thế nữa, lệnh mua và bán thường rơi vào cùng 1 vùng giá, không hề tạo ra lợi nhuận, đặc biệt là các tín hiệu mua bán đưa ra với chu kì nắm giữ ngắn hạn, thường khoảng 5-7 ngày&lt;/p&gt;

&lt;p&gt;Để máy tính tự tối ưu hóa độ nhanh chậm của đường MA, ta có thể thay hàm Param thành hàm Optimize trong đoạn code viết ở trên.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;n&quot;&gt;Length1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optimize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Length1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Length2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optimize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Length2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Save vào 1 file riêng trong folder, đặt tên là MACrossSystem2.afl. Sau đó mở Analysis trên Menu, chọn Automatic Analysis, bấm pick rồi chọn file MACrossSystem2.afl đã save trước đó trong mục code editor.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami4.png&quot; alt=&quot;chart3&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Trong menu Automatic Analysis, trong mục Settings chọn Report rồi chọn summary để kết quả sau khi tối ưu hóa hoặc backtest cho ra 1 report tổng hợp&lt;/p&gt;

&lt;p&gt;Sau đó ở menu automatic analysis, chọn current symbol (tức là VIC) đã chọn ở phần trên, chọn from 2014 tới ngày hiện tại, sau đó bấm Optimize để tối ưu hóa lựa chọn về độ nhanh chậm của đường MA. Amibroker sẽ mô phỏng từ 4100 mẫu test để cho ra kết quả với lợi nhuận cao nhất được test với tín hiệu Cross MA.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami5.png&quot; alt=&quot;chart3&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Kết quả được thể hiện như hình bên dưới, lợi nhuận cao nhất là 70% khi kết hợp 2 đường MA nhanh là 65 và chậm là 24. Kì cục ở chỗ là tín hiệu cho ra khi thực hiện optimize lại cho thấy rằng đường MA chậm cắt lên trên đường MA nhanh thì tín hiệu mua cho ra lợi nhuận cao nhất. Cụ thể ở đây Length1 có giá trị 65 và Length2 có giá trị 24. Tôi tạo 1 đoạn code khác và apply vào chart VIC như sau:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span class=&quot;n&quot;&gt;Length1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Length2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Length1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Length2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cross&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Sell&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cross&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Equity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Maxe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LastValue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Highest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Price&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorBlack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleCandle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MA1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorGreen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MA2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;MA2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorBlue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;styleLine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapeUpArrow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sell&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapeDownArrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;PlotShapes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IIf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorGreen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colorRed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Buy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Low&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;High&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hệ thống cho ra tín hiệu như sau:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami6.png&quot; alt=&quot;chart4&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cụ thể hơn, khi đường MA(65) cắt lên trên đường MA(24) tín hiệu cho lợi nhuận cao hơn nhiều, đối nghịch hoàn toàn với lý thuyết thường thấy. Khi áp dụng kết quả của quá trình tối ưu hóa, cổ phiếu cho ra lợi nhuận 77%. Giả sử tôi có 100 triệu vào ngày 1/1/2014, nếu theo hệ thống giao dịch này, tới 29/4/2016, tôi đã có 177 triệu VND trong tài khoản theo như kết quả backtest, đánh bại hoàn toàn hệ thống giao dịch sử dụng tín hiệu MA nhanh cắt lên trên MA chậm cổ điển. Tuy nhiên tối ưu hóa hệ thống giao dịch không đảm bảo trong tương lai bạn sẽ có lợi nhuận y hệt.&lt;/p&gt;

&lt;p&gt;1 Điều cần lưu ý là nếu áp dụng MACS thì chu kì nắm giữ sẽ dài hơn, theo kết quả backtest, chu kì nắm giữ trung bình vào khoảng 44 ngày giao dịch, tức khoảng hơn 2 tháng. Các tay trader ngắn hạn theo xu hướng vài tuần tới 1 tháng hay những tay giao dịch T+3 sẽ không thích hệ thống này.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Amibroker/ami7.png&quot; alt=&quot;chart5&quot; class=&quot;center-image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Bạn có thể backtest và optimize nhiều mã dựa vào chiến lược giao dịch như trên. Có thể thấy từ ví dụ này, các chỉ báo phân tích kĩ thuật cần được điều chỉnh và tối ưu hóa để cho ra tín hiệu tốt nhất. Một hệ thống giao dịch chỉ đúng khi được backtest hiệu quả và cho ra kết quả Out-of-sample tích cực.&lt;/p&gt;
</description>
        <pubDate>Fri, 29 Apr 2016 12:00:00 +0000</pubDate>
        <link>http://NTLresearch.github.io/misc/AmibrokerTrendFollowing0</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/misc/AmibrokerTrendFollowing0</guid>
        
        <category>prg</category>
        
        <category>vi</category>
        
        
        <category>misc</category>
        
      </item>
    
      <item>
        <title>Tinh beta bằng Excel</title>
        <description>&lt;p&gt;Cách tiếp cận truyền thống để tính toán hệ số Beta là dựa vào phương trình hồi quy cho lợi nhuận của chỉ số thị trường và lợi nhuận của cổ phiếu. Thông thường tỉ suất lợi nhuận được tính toán dựa trên số liệu về giá đã được điều chỉnh cho các khoản như chia tách hoặc chia cổ tức bằng cổ phiếu.&lt;/p&gt;

&lt;p&gt;Tỉ suất lợi nhuận nên được tính toán theo tháng hoặc theo tuần (theo Investment Valuation - Damodaran). Hệ số Beta về mặt lý thuyết được tính như sau:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\frac{covariance(r_s, r_m)}{variance(r_m)}&lt;/script&gt;

&lt;p&gt;Covariance là hiệp phương sai giữa tỉ suất lợi nhuận của cổ phiếu và tỉ suất lợi nhuận của thị trường cần tính toán.
Variance trong công thức là phương sai của tỉ suất lợi nhuận của chỉ số thị trường.
Hệ số beta được giải thích như sau:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Giả sử Beta của 1 cổ phiếu đo được là 1.3, theo lý thuyết, khi thị trường đạt tỉ suất lợi nhuận là 1% thì tỉ suất lợi nhuận của cổ phiếu có thể đạt được là 1.3 * 1% = 1.3%. Kết quả trên chỉ đúng khi lãi suất phi rủi ro gần hoặc tương đương 0%.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Nếu chúng ta ước lượng thị trường có tỉ lệ lãi suất phi rủi ro là 7%, tỉ suất lợi nhuận kì vọng của thị trường chung là 10%. Vậy 1 cổ phiếu có beta bằng 1.3 sẽ có tỉ suất lợi nhuận kì vọng tương đương:&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E(r_s) = r_f + \beta \times (E(r_m) - r_f) = 7\% + 1.3\% \times (10\% - 7\%) = 10.9 \%&lt;/script&gt;

&lt;p&gt;Lúc này tỉ suất lợi nhuận kì vọng của cổ phiếu được tính toán dựa trên hệ số beta là 10.9%, cao hơn 0.9% so với tỉ suất lợi nhuận kì vọng của thị trường chung.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Beta cũng có thể âm hoặc dương. Beta dương tức là khi thị trường có tỉ suất lợi nhuận dương, cổ phiếu cho tỉ suất lợi nhuận dương, tức là vận động cùng với thị trường. Khi Beta âm, thị trường có thể có tỉ suất loại nhuận dương, nhưng lúc này tỉ suất lợi nhuận ở cổ phiếu có thể âm, vận động ngược chiều với thị trường.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Khi chỉ số Beta bằng 0, tức là cổ phiếu không có mối tương quan với thị trường.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Đa số các trang web tài chính ở Việt Nam như CafeF hay Vietstock đều cung cấp hệ số Beta. Tuy nhiên với những ai muốn tính toán trực tiếp hệ số Beta, điều chỉnh các thông số có thể tính toán rất nhanh qua Excel bằng hàm Slope.
Đầu tiên bạn truy cập vào &lt;a href=&quot;http://cophieu68.com&quot;&gt;cophieu68&lt;/a&gt;, download dữ liệu excel về giá đã được điều chỉnh hằng ngày.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel1.png&quot; alt=&quot;c1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sau đó lấy dữ liệu từ 2 cột &lt;DTYYYMMDD&gt; và &lt;Close&gt; để tính toán Beta.&lt;/Close&gt;&lt;/DTYYYMMDD&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel2.png&quot; alt=&quot;c2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vấn đề ở đây là dữ liệu của cophieu68 được input cho Amibroker và Metastock Format nên ngày tháng sẽ viết liền như hình ở trên. Vì thế chúng ta chuyển đổi dữ liệu sang dạng chuẩn qua excel thông qua hàm Date như sau:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel3.png&quot; alt=&quot;c3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Dữ liệu trong Cophieu68 được sắp xếp theo thứ tự dữ liệu mới nhất được cập nhật ở trên, vì thế khi lọc xong data, chúng ta dùng bộ lọc Filter chỉnh từ oldest to newest để thuận tiện cho việc tính toán tỉ suất lợi nhuận. Sau đó copy Date, Close của VNindex và mã cổ phiếu cần tính toán ra 1 sheet riêng như hình bên dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel4.png&quot; alt=&quot;c4&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tỉ suất lợi nhuận theo tháng sẽ được tính theo số liệu Close và ngày cuối cùng của tháng như công thức bên dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel5.png&quot; alt=&quot;c5&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Thông thường, chúng ta nên tính toán tỉ suất lợi nhuận tối thiểu trong 2 năm (24) tháng do yêu cầu của hồi quy thường phải có tối thiểu 25 quan sát. Sau khi đã có đủ số lượng quan sát của tí suất lợi nhuận, chúng ta dùng hàm Slope để tính toán ra Beta như hình dưới:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/Excel/excel6.png&quot; alt=&quot;c6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Do mã CAV chỉ có số liệu từ năm 2015 nên ở bài viết tôi chỉ tính toán trên 12 quan sát, số liệu sẽ không thật sự chính xác. Theo Damodaran, việc dùng tỉ suất lợi nhuận theo tuần hay theo tháng ảnh hưởng tương đối lớn đến việc tính toán beta. Ngoài ra có thể chọn chuỗi thời gian trong 2 năm tới 3 năm hoặc hơn. Tuy nhiên, chuỗi thời gian càng dài, bản chất rủi ro và hoạt động của doanh nghiệp thay đổi nên hệ số beta có khả năng không phản ánh đúng bản chất của cổ phiếu ở thời điểm tính toán.&lt;/p&gt;

&lt;p&gt;Hàm Slope trong Beta cũng không cho xem xét hệ số R-squared (coefficient of determination) nên chúng ta khó có thể biết độ chính xác của hệ số Beta trong thực tế. Bài viết sau về OLS sẽ có cái nhìn chi tiết hơn về phương trình hồi quy dạng cơ bản trong excel.&lt;/p&gt;

&lt;p&gt;Ngoài ra việc chọn chỉ số thị trường để tính toán beta cũng quan trọng. Giả sử cổ phiếu giao dịch trên sàn Upcom, bạn nên sử dụng chỉ số Upcom để tính toán thay vì VN-index hay HNX-index.&lt;/p&gt;
</description>
        <pubDate>Thu, 28 Apr 2016 12:00:00 +0000</pubDate>
        <link>http://NTLresearch.github.io/misc/tinhbetaexcle</link>
        <guid isPermaLink="true">http://NTLresearch.github.io/misc/tinhbetaexcle</guid>
        
        <category>Amibroker</category>
        
        <category>misc</category>
        
        
        <category>misc</category>
        
      </item>
    
  </channel>
</rss>
